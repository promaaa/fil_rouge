<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Dimensionner la r√©cup√©ration d'eau de pluie pour √™tre autonome</title>
  <style>
    body {
      font-family: "Helvetica", Arial, sans-serif;
      max-width: 800px;
      margin: auto;
      background-color: #fafafa;
      color: #222;
      line-height: 1.6;
      padding: 20px;
    }

    h1 {
      color: #210dfd8b;
      border-bottom: 2px solid #ce510dff;
      padding-bottom: 0.2em;
    }

    h2 {
      color: #333;
      margin-top: 1.5em;
    }

    ul, ol {
      margin-left: 1.5em;
    }

    /* Sous-listes dans les √©tapes */
    ol > li ul {
      margin-top: 0.5em;
      margin-bottom: 0.5em;
    }

    ol > li strong {
      color: #444;
      display: block;
      margin-bottom: 0.3em;
    }

    .section {
      margin-bottom: 2em;
      background: #fff;
      padding: 1em;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }

    /* Styliser le titre principal de chaque √©tape : encadr√© gris et police un peu plus grande
       Cibl√© uniquement dans la section √âtapes (classe .steps) pour √©viter d'impacter d'autres <strong>. */
    .section.steps > ol > li > strong:first-child {
      display: block;
      background: #f3f3f3; /* gris tr√®s clair */
      color: #222;
      padding: 0.45rem 0.6rem;
      border: 1px solid #d6d6d6;
      border-radius: 6px;
      font-size: 1.06em; /* l√©g√®rement plus grand */
      margin-bottom: 0.45rem;
    }

    /* Mat√©riaux: rendre les sous-items gris√©s et en police plus petite */
    .section.materials ul ul {
      color: #666;
      font-size: 0.9em;
      margin-top: 0.35em;
    }

    /* (Step title framed styles were removed per user request to revert) */

    .step-images {
      margin: 1em 0;
      display: grid;
      gap: 0.6rem;
    }

  /* Layout for image boxes: adjust columns based on count via classes .count-N */
  .step-images.count-1 { grid-template-columns: 1fr; }
  .step-images.count-2 { grid-template-columns: repeat(2, 1fr); }
  .step-images.count-3 { grid-template-columns: repeat(3, 1fr); }
  /* For 4 or more images, use 2 columns thumbnail layout for a more harmonious small-preview look */
  .step-images.count-4,
  .step-images.count-5,
  .step-images.count-6,
  .step-images.count-7,
  .step-images.count-8,
  .step-images.count-9,
  .step-images.count-10 { grid-template-columns: repeat(2, 1fr); }

    /* container box around the whole set of images for the step */
    .step-images {
      margin: 1em 0;
      display: grid;
      gap: 0.6rem;
      background: #fafafa; /* subtle gray background */
      border: 1px solid #e6e6e6;
      padding: 0.6rem;
      border-radius: 8px;
    }

    figure {
      margin: 0;
      text-align: center;
      background: transparent;
      padding: 0.25rem 0;
      border-radius: 6px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    /* Thumbnails: show the whole image (no cropping). Use contain with max dims so
       small images display fully while larger images are constrained. Center them. */
    .step-images figure img {
      width: auto;
      max-width: 100%;
      max-height: 160px; /* control thumbnail height but do not crop */
      object-fit: contain; /* show full image */
      background: #f5f5f5; /* subtle neutral background for small images */
      border-radius: 4px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.08);
      cursor: zoom-in;
      display: block;
      margin: 0 auto; /* center narrower images */
    }
    /* Single-image steps: let the image take available width while preserving aspect */
    .step-images.count-1 figure img {
      width: 100%;
      height: auto;
      object-fit: contain;
      max-height: none;
    }

    /* Hide figcaptions in thumbnail/grid mode; captions are shown in the lightbox */
    .step-images figure figcaption { display: none; }

    figcaption {
      font-size: 0.9em;
      color: #666;
      margin-top: 0.5em;
      font-style: italic;
    }
    

    /* Lightbox overlay */
    .lightbox-overlay {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.75);
      z-index: 9999;
      padding: 1rem;
    }
    .lightbox-overlay.active { display: flex; }
    .lightbox-content {
      max-width: 95%;
      max-height: 95%;
      text-align: center;
    }
    .lightbox-content img {
      max-width: 100%;
      max-height: 80vh;
      border-radius: 6px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.5);
    }
    .lightbox-caption { color: #fff; margin-top: 0.6rem; font-size: 0.95em; }
    .lightbox-close {
      position: absolute; top: 12px; right: 16px; color: #fff; background: transparent;
      border: none; font-size: 1.6rem; cursor: pointer;
    }

    footer {
      margin-top: 2em;
      font-size: 0.9em;
      color: #666;
      border-top: 1px solid #ddd;
      padding-top: 1em;
    }

    /* Style impression PDF */
    @media print {
      body { background: white; color: black; }
      a { color: black; text-decoration: none; }
      .section { box-shadow: none; border: 1px solid #ccc; }
    }
  </style>
</head>
<body>

  <header>
    <h1>Dimensionner la r√©cup√©ration d'eau de pluie pour √™tre autonome</h1>
    
      <div style="text-align:center; margin-bottom:1.2em;">
        <img src="https://wiki.lowtechlab.org/images/thumb/1/1a/Dimensionner_la_r_cup_ration_d_eau_de_pluie_pour_tre_autonome_IMG_20240227_173849_315.jpg/800px-Dimensionner_la_r_cup_ration_d_eau_de_pluie_pour_tre_autonome_IMG_20240227_173849_315.jpg" alt="Image principale du tutoriel" style="max-width:100%; max-height:320px; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.08);">
        
          <div style="color:#666; font-size:0.97em; margin-top:0.4em; font-style:italic;">Dimensionner la r√©cup√©ration d'eau de pluie hors r√©seau</div>
        
      </div>
    
    
      
        <p>Dans des cas o√π on souhaite √™tre 100% autonome hors r√©seau, la question de l'eau est essentielle.</p>
      
        <p>C'est d'ailleurs le premier √©l√©ment √† consid√©rer par exemple dans les d√©marches de permaculture (phase d'observation).</p>
      
        <p>J'ai initialement fait les calculs ci dessous pour "autonomiser" un mobile home avec l'id√©e d'utiliser des modules photovolta√Øques dans un assemblage r√©cup√©rateur d'eau, comme le proposait le concept ulta chaata (https://www.facebook.com/weultachaata/?locale=fr_FR et https://fr.futuroprossimo.it/2023/03/ulta-chaata-ombrello-magico-che-puo-dare-acqua-e-luce-allindia/) avant d'√™tre r√©cup√©r√©e √† Los Angeles.</p>
      
        <p>On peut s'interroger sur la fa√ßon ad√©quate de dimensionner des installations pour r√©cup√©rer de l'eau de pluie.</p>
      
        <p>Pour cela, on peut utiliser les donn√©es de M√©t√©o France afin d'avoir un regard r√©trospectif sur les pr√©cipitations saisonni√®res et ajuster ainsi les dimensions des r√©cup√©rateurs.</p>
      
        <p>D√©mo web interactive ici :</p>
      
    
    
    <p style="color: #666; font-size: 0.95em;">
      <strong>Difficult√© :</strong> Medium Moyen &nbsp;&nbsp; 
      <strong>Dur√©e :</strong> 1 hour(s) heure(s) &nbsp;&nbsp; 
      <strong>Co√ªt :</strong> 0 EUR (‚Ç¨)
    </p>
    
    <p style="font-size:0.95em; color:#066; margin-top:0.2em;">
      <strong>Lien du tutoriel de base :</strong>
      <a href="https://wiki.lowtechlab.org/wiki/Dimensionner_la_r√©cup√©ration_d_eau_de_pluie_pour_√™tre_autonome" target="_blank" rel="noopener" style="color:#066;">https://wiki.lowtechlab.org/wiki/Dimensionner_la_r√©cup√©ration_d_eau_de_pluie_pour_√™tre_autonome</a>
    </p>
    
    
  </header>

  <div class="section materials">
    <h2>üõ†Ô∏è Mat√©riaux</h2>
    
      <p><em>Non sp√©cifi√©</em></p>
    
  </div>

  <div class="section">
    <h2>üîß Outils</h2>
    
      <p><em>Non sp√©cifi√©</em></p>
    
  </div>

  <div class="section steps">
    <h2> √âtapes</h2>
    
      <ol>
        
          <li>
            
            
              <strong>1. √âtape 1 - Pr√©requis logiciel</strong><p><strong>√âtapes :</strong></p><ol><li>Dans ce tuto, on utilise des donn√©es m√©t√©os synop disponibles ici :</li><li>http://data.cquest.org/meteo-france/synop/ dont vous trouverez la description ici:</li><li>http://data.cquest.org/meteo-france/synop/doc_parametres_synop_168.pdf</li><li>Vous pouvez √©galement les t√©l√©charger sur le site de Meteo France:<ul><li>https://donneespubliques.meteofrance.fr/?fond=produit&id_produit=90&id_rubrique=32</li></ul></li><li>T√©l√©charger tous les fichiers csv des ann√©es et mois √† partir desquels vous souhaitez que les calculs soient effectu√©s, placer les dans un repertoire de votre choix et dezipper les (format archive gz). Placer √©galement dans ce r√©pertoire le fichier processing.py contenant le code partag√© dans ce tutoriel.</li><li>Exemple en ligne de commande linux debian pour t√©l√©charger et d√©zipper tous les csv de l'ann√©e 2020 dans un repertoire ~/synop:</li><li>(Dans la suite du tutoriel on utilise toutes les donn√©es des ann√©es 2010 √† 2020)</li><li>Pour utiliser python sous un autre os que linux, d√©brouillez vous avec vos daubes propri√©taires intrusives.</li><li>Sous linux, python est g√©n√©ralement install√© et pour utiliser le code partag√© dans ce tuto, il suffira de copier coller le code dans un fichier processing.py puis entrer</li><li>Cependant, il faut installer la librairie pandas qui est tr√®s largement utilis√© dans le monde de la finance et dans le monde scientifique, notamment pour sa gestion efficace des s√©ries temporelles et sa capacit√© de vectorisation des donn√©es.</li><li>Pour cela voici les commandes √† entrer dans linux debian avant de lancer le script processing.py pour √™tre tranquille:</li><li>Penser ensuite √† activer l'environnement virtuel dans lequel est install√© pandas chaque fois que vous utilisez le script (apres un reboot ou si vous fermez et reouvrez votre terminal) en lan√ßant la commande:</li><li>Nous sommes en 2024 et si vous √™tes cibles d'entraves anti √©co-terroristes de psychopathes comme moi, et en bon scientifique qui se respecte vous inspectez vos instruments de mesures avant de les utiliser, vous pouvez inspectez le code source de pandas qui est √©videmment logiciel libre ici : https://github.com/pandas-dev/pandas , ou vous pouvez faire l'hypoth√®se discutable qu'on peut avoir confiance dans un logiciel aussi massivement utilis√© dans le monde de la finance et de la science.</li><li>Python reposant sur des librairies C pour un certains nombres d'op√©rations de base, le hack, y compris le hack scientifique, n'est jamais impossible mais on laissera de cot√© ces consid√©rations pro-lowtech qui n'entrent pas dans le champ de r√©flexion de ce tutoriel.</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>2. √âtape 2 - Evaluer les besoins</strong><p><strong>√âtapes :</strong></p><ol><li>Pour √©valuer les besoins pour des installations domestiques, rien de plus efficace que le compteur d'eau. Une premi√®re approche peut √™tre de faire une r√®gle de trois √† partir de votre consommation hebdomadaire. Vous pouvez aussi mesurer individuellement chaque poste de consommation (douche, machine √† laver, cuisine, jardin, wc, etc) afin de faire des projections saisonni√®res plus justes.</li><li>Pour un mobile home avec toilettes s√®ches on a :</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>3. √âtape 3 - Calculer r√©trospectivement les pr√©cipitations journalieres et saisonnieres</strong><p><strong>√âtapes :</strong></p><ol><li>Pour dimensionner correctement le stockage, il convient d'abord d'avoir des informations sur les pr√©cipitations "moyennes" des ann√©es pr√©c√©dentes.</li><li>Pour cela, on fournit le bout de code python suivant (valable avec les donn√©es m√©t√©o france mais adaptable √† d'autres donn√©es m√©t√©os ailleurs, le synop √©tant un encodage de donn√©es utilis√© par l'OMM):</li><li>Pour la latitude 44.2 et longitude 0.6 on obtient:</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>4. √âtape 4 - Dimensionner la surfce de r√©cup√©ration et le stockage</strong><p><strong>√âtapes :</strong></p><ol><li>Pour dimensionner, le stockage, on se rappellera utilement que 1m2 de surface donne un √©quivalent d'1L pour 1mm de pr√©cipitations.</li><li>On peut alors faire des calculs avec les pr√©cipitations moyennes pr√©c√©demment estim√©es et les consommations moyennes pr√©c√©demment mesur√©es.</li><li>Estimation "grosse louche":<ul><li>conso trimestre/precipitations moyenne min trimestre =</li><li>solo : 3588/125=29</li><li>duo: 9776/125=78</li><li>=> Il faut 29m2 pour satisfaire les besoins solo avec les hypoth√®ses etape 1</li><li>=> Il faut 78m2 pour satisfaire les besoins duo avec les hypoth√®ses etape 1</li></ul></li><li>Les fortes pr√©cipitations sont g√©n√©ralement regroup√©es (grand √©cartype a la moyenne),</li><li>et on prendra par cons√©quent un r√©servoir minimum dimensionn√© √† deux fois et demi</li><li>ce qui est n√©cessaire pour la pr√©cipitation journali√®re maximum.</li><li>Contraintes pr√©cipitations importantes:</li><li>Il faut a minima un reservoir de 3987L en solo (2.5*pr√©cipitations journaliere max*29)</li><li>et 10725L en duo (2.5*pr√©cipitations max *78)</li><li>Mais il faut √©galement un minimum pour les p√©riodes de s√©cheresses:</li><li>1735L en solo (44j cons√©cutifs max sans pluie) de r√©serve avec les hypoth√®ses etape 1</li><li>4727L en duo (44j cons√©cutifs max sans pluie) de r√©serve avec les hypoth√®ses etape 1</li><li>ce qui est satisfait avec la contrainte pr√©c√©dente.</li><li>On va maintenant utiliser ces r√©sultats de surface minimum et de stockage minimum</li><li>comme hypoth√®se de base et ajouter un "data-test" avec des it√©rations (50% de la surface min</li><li>et 100% du volume min comme points de depart de l'iteration) sur la surface</li><li>de r√©cup√©ration et le volume de stockage pour v√©rifier qu'on n'a pas de tarissement</li><li>de notre stockage (on fait l'hypoth√®se qu'il y a une gestion du trop plein et qu'on n'a donc</li><li>pas de probl√®mes de r√©servoir qui d√©borde) et qu'on satisfait les besoins de consommation.</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>5. √âtape 5 - Optimiser le stockage et prendre en compte une utilisation suppl√©mentaire d'eau en periode estivale</strong><p><strong>√âtapes :</strong></p><ol><li>Le bout de code python am√©lior√© est le suivant (les commentaires expliquent chaque etape).</li><li>Pour expliquer un peu l‚Äô√©tape de l‚Äôit√©ration : On d√©marre aux volume0 de capacit√© et surface0 de surface pr√©calcul√©es dans l‚Äô√©tape pr√©c√©dente. On fait des boucles d'it√©rations sur les donn√©es de pr√©cipitations et chaque jour on fait la soustraction eau recup√©r√©e-consommation journali√®re+consommation estivale si en periode estivale En cas de tarissement: on a une premi√®re boucle d‚Äôiteration 6 fois de +33 % de la surface, et pour chaque it√©ration de surface, on a une deuxi√®me boucle d‚Äôiteration 40 fois de +50 % du volume. On s‚Äôarrete √† chaque boucle d‚Äôiteration d√®s que le dimensionnement convient et on enregistre le resultat. On affiche les r√©sultats √† la fin des it√©rations.</li><li>On fait le test avec les hypoth√®ses ci dessus (latitude 44.2, longitude 0.6, solo 276L semaine, duo 752L semaine)</li><li>On obtient les r√©sultats suivants:</li><li>solo:</li><li>solo avec 600L/semaine en periode estivale:</li><li>duo:</li><li>duo avec 600L/semaine en periode estivale: :</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>6. √âtape 6 - Utiliser des data du changement climatique</strong><div class='step-images count-1'><figure><img src='https://wiki.lowtechlab.org/images/thumb/1/1d/Dimensionner_la_r_cup_ration_d_eau_de_pluie_pour_tre_autonome_drias.png/800px-Dimensionner_la_r_cup_ration_d_eau_de_pluie_pour_tre_autonome_drias.png' alt='Dimensionner la r cup ration d eau de pluie pour tre autonome drias.png' loading='lazy'></figure></div><p><strong>√âtapes :</strong></p><ol><li>Comme tr√®s bien expliqu√© dans cet autre tuto : Estimer la quantit√© d'eau de pluie r√©cup√©rable gr√¢ce √† une toiture, dimensionner son stockage en prenant en compte les changements climatiques, le changement climatique va perturber les pr√©cipitations en termes de quantit√©s mais surtout de fr√©quences.</li><li>Pour de la r√©cup√©ration/stockage, c'est particuli√®rement important notamment pour les p√©riodes de s√©cheresses qui risques de s'accentuer.</li><li>Techniquement, on peut "data-tester" au jour le jour avec les donn√©es de pr√©visions du portail drias (https://drias-climat.fr/). Cependant, il faudrait d'une part data tester avec plusieurs set de donn√©es car les mod√®les sont tres diff√©rents les uns des autres, et d'autres part il s'agit de mod√®les climatiques et pas m√©t√©orologiques, ce qui limite la pertinence d'utiliser des r√©sultats comme input meteo.</li><li>En attendant que les scientifiques affinent leurs mod√®les pour la prospective √† √©chelle plus fine (spatiale et temporelle), on peut reprendre les estimations d'impact sur les volumes de pr√©cipitations par saisons √† partir des mod√®les drias 2070-2100 rcp 8.5 (+10% √† -10% selon mod√®les au printemps, -50% √† +20% en √©t√©,-15% √† +5% en automne, -15% √† +30% en hiver)</li><li>En √©tant prudent pour chaque saison, c'est √† dire en prenant l'hypoth√®se la plus conservatrice pour chaque saison, on obtient des volumes r√©duits de :</li><li>-10% au printemps</li><li>-50% en √©t√©</li><li>-15% en automne</li><li>-15% en hiver</li><li>On peut alors mettre √† jour l'algorithme :</li><li>Vous noterez qu'on a d√©j√† ajout√© les lignes suivantes dans le code de l'etape 5 juste avant le calcul de # Moyenne par trimestre pour chaque trimestre:</li><li>Ce qui affiche:</li><li>On n'effectue pas le data-test au jour le jour compte tenu des biais trop importants induits par le choix d'un seul mod√®le de pr√©vision.</li><li>En premi√®re approximation l'impact sur les r√©sultats est de doubler la surface de r√©cup√©ration n√©cessaire √† partir de la m√©thode d√©crite dans les √©tapes pr√©c√©dentes.</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
      </ol>
    
  </div>

  

  <!-- Lightbox overlay for viewing images -->
  <div id="lightbox" class="lightbox-overlay" aria-hidden="true">
    <button id="lb-close" class="lightbox-close" aria-label="Fermer">√ó</button>
    <!-- Prev/Next visible controls -->
    <button id="lb-prev" class="lightbox-control lightbox-prev" aria-label="Image pr√©c√©dente">‚Äπ</button>
    <button id="lb-next" class="lightbox-control lightbox-next" aria-label="Image suivante">‚Ä∫</button>
    <div class="lightbox-content">
      <img id="lb-img" src="" alt="">
      <div id="lb-caption" class="lightbox-caption"></div>
    </div>
  </div>

  <script>
    // JS lightbox: delegate clicks from step-images figures
    document.addEventListener('click', function(ev){
      const fig = ev.target.closest('.step-images figure');
      if(!fig) return;
      const container = fig.closest('.step-images');
      if(!container) return;
      const figures = Array.from(container.querySelectorAll('figure'));
      const idx = figures.indexOf(fig);
      if(idx < 0) return;

      const overlay = document.getElementById('lightbox');
      const imgEl = document.getElementById('lb-img');
      const captionEl = document.getElementById('lb-caption');
      const btnPrev = document.getElementById('lb-prev');
      const btnNext = document.getElementById('lb-next');

      let current = idx;
      function show(i){
        const f = figures[i];
        const im = f.querySelector('img');
        const cap = f.querySelector('figcaption');
        if(im){ imgEl.src = im.src; imgEl.alt = im.alt || ''; }
        captionEl.textContent = cap ? cap.textContent : '';
        overlay.classList.add('active');
        overlay.setAttribute('aria-hidden','false');
      }
      function hide(){ overlay.classList.remove('active'); overlay.setAttribute('aria-hidden','true'); }

      show(current);

      // close handlers
      document.getElementById('lb-close').onclick = hide;
      overlay.onclick = function(e){ if(e.target === overlay) hide(); };
      // prev/next click handlers
      if(btnPrev){ btnPrev.onclick = function(e){ e.stopPropagation(); current = Math.max(current-1, 0); show(current); }; }
      if(btnNext){ btnNext.onclick = function(e){ e.stopPropagation(); current = Math.min(current+1, figures.length-1); show(current); }; }
      document.onkeydown = function(e){
        if(e.key === 'Escape') hide();
        if(e.key === 'ArrowRight') { current = Math.min(current+1, figures.length-1); show(current); }
        if(e.key === 'ArrowLeft') { current = Math.max(current-1, 0); show(current); }
      };
    });
  </script>

  <style>
    /* lightbox visible controls styling */
    .lightbox-control {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.35);
      color: #fff;
      border: none;
      width: 44px;
      height: 70px;
      font-size: 2rem;
      line-height: 1;
      border-radius: 6px;
      cursor: pointer;
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
    }
    .lightbox-prev { left: 12px; }
    .lightbox-next { right: 12px; }
    .lightbox-control:hover { background: rgba(0,0,0,0.6); }
    @media (max-width: 600px){ .lightbox-control { width: 36px; height: 56px; font-size: 1.6rem; } }
  </style>

  

</body>
</html>