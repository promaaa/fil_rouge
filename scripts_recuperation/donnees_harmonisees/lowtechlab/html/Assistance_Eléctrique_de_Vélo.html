<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Assistance El√©ctrique de V√©lo</title>
  <style>
    body {
      font-family: "Helvetica", Arial, sans-serif;
      max-width: 800px;
      margin: auto;
      background-color: #fafafa;
      color: #222;
      line-height: 1.6;
      padding: 20px;
    }

    h1 {
      color: #210dfd8b;
      border-bottom: 2px solid #ce510dff;
      padding-bottom: 0.2em;
    }

    h2 {
      color: #333;
      margin-top: 1.5em;
    }

    ul, ol {
      margin-left: 1.5em;
    }

    /* Sous-listes dans les √©tapes */
    ol > li ul {
      margin-top: 0.5em;
      margin-bottom: 0.5em;
    }

    ol > li strong {
      color: #444;
      display: block;
      margin-bottom: 0.3em;
    }

    .section {
      margin-bottom: 2em;
      background: #fff;
      padding: 1em;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }

    /* Styliser le titre principal de chaque √©tape : encadr√© gris et police un peu plus grande
       Cibl√© uniquement dans la section √âtapes (classe .steps) pour √©viter d'impacter d'autres <strong>. */
    .section.steps > ol > li > strong:first-child {
      display: block;
      background: #f3f3f3; /* gris tr√®s clair */
      color: #222;
      padding: 0.45rem 0.6rem;
      border: 1px solid #d6d6d6;
      border-radius: 6px;
      font-size: 1.06em; /* l√©g√®rement plus grand */
      margin-bottom: 0.45rem;
    }

    /* Mat√©riaux: rendre les sous-items gris√©s et en police plus petite */
    .section.materials ul ul {
      color: #666;
      font-size: 0.9em;
      margin-top: 0.35em;
    }

    /* (Step title framed styles were removed per user request to revert) */

    .step-images {
      margin: 1em 0;
      display: grid;
      gap: 0.6rem;
    }

  /* Layout for image boxes: adjust columns based on count via classes .count-N */
  .step-images.count-1 { grid-template-columns: 1fr; }
  .step-images.count-2 { grid-template-columns: repeat(2, 1fr); }
  .step-images.count-3 { grid-template-columns: repeat(3, 1fr); }
  /* For 4 or more images, use 2 columns thumbnail layout for a more harmonious small-preview look */
  .step-images.count-4,
  .step-images.count-5,
  .step-images.count-6,
  .step-images.count-7,
  .step-images.count-8,
  .step-images.count-9,
  .step-images.count-10 { grid-template-columns: repeat(2, 1fr); }

    /* container box around the whole set of images for the step */
    .step-images {
      margin: 1em 0;
      display: grid;
      gap: 0.6rem;
      background: #fafafa; /* subtle gray background */
      border: 1px solid #e6e6e6;
      padding: 0.6rem;
      border-radius: 8px;
    }

    figure {
      margin: 0;
      text-align: center;
      background: transparent;
      padding: 0.25rem 0;
      border-radius: 6px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    /* Thumbnails: show the whole image (no cropping). Use contain with max dims so
       small images display fully while larger images are constrained. Center them. */
    .step-images figure img {
      width: auto;
      max-width: 100%;
      max-height: 160px; /* control thumbnail height but do not crop */
      object-fit: contain; /* show full image */
      background: #f5f5f5; /* subtle neutral background for small images */
      border-radius: 4px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.08);
      cursor: zoom-in;
      display: block;
      margin: 0 auto; /* center narrower images */
    }
    /* Single-image steps: let the image take available width while preserving aspect */
    .step-images.count-1 figure img {
      width: 100%;
      height: auto;
      object-fit: contain;
      max-height: none;
    }

    /* Hide figcaptions in thumbnail/grid mode; captions are shown in the lightbox */
    .step-images figure figcaption { display: none; }

    figcaption {
      font-size: 0.9em;
      color: #666;
      margin-top: 0.5em;
      font-style: italic;
    }
    

    /* Lightbox overlay */
    .lightbox-overlay {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.75);
      z-index: 9999;
      padding: 1rem;
    }
    .lightbox-overlay.active { display: flex; }
    .lightbox-content {
      max-width: 95%;
      max-height: 95%;
      text-align: center;
    }
    .lightbox-content img {
      max-width: 100%;
      max-height: 80vh;
      border-radius: 6px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.5);
    }
    .lightbox-caption { color: #fff; margin-top: 0.6rem; font-size: 0.95em; }
    .lightbox-close {
      position: absolute; top: 12px; right: 16px; color: #fff; background: transparent;
      border: none; font-size: 1.6rem; cursor: pointer;
    }

    footer {
      margin-top: 2em;
      font-size: 0.9em;
      color: #666;
      border-top: 1px solid #ddd;
      padding-top: 1em;
    }

    /* Style impression PDF */
    @media print {
      body { background: white; color: black; }
      a { color: black; text-decoration: none; }
      .section { box-shadow: none; border: 1px solid #ccc; }
    }
  </style>
</head>
<body>

  <header>
    <h1>Assistance El√©ctrique de V√©lo</h1>
    
      <div style="text-align:center; margin-bottom:1.2em;">
        <img src="https://wiki.lowtechlab.org/images/thumb/d/d1/Assistance_El_ctrique_de_V_lo_IMG-20230627-WA0010.jpg/ia-23e8ef0e938b408366638e43c35baa9d-px-Assistance_El_ctrique_de_V_lo_IMG-20230627-WA0010.jpg.png" alt="Image principale du tutoriel" style="max-width:100%; max-height:320px; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.08);">
        
          <div style="color:#666; font-size:0.97em; margin-top:0.4em; font-style:italic;">Conception et Prototypage Low-tech d‚Äôune Assistance √âlectrique de V√©lo dans le cadre d'un projet √©tudiant CentraleSup√©lec avec le Low-Tech Lab Boulogne-Billancourt. --- Nomm√© Kit VALTER (V√©lo √† Assistance Low-Tech Et Responsable) --- Par Th√©o, Rapha√´l et Maxime --- Un remerciement particulier √† Gilles, notre encadrant du Low-Tech Lab de Boulogne-Billancourt; Morgan notre encadrant de CentraleSup√©lec; le fab lab de CentraleSu√©pelec La Fabrique pour les composants, les mat√©riaux, les outils et l'expertise; et enfin la Siredom (Syndicat pour l'Innovation, le Recyclage et l‚ÄôEnergie par les D√©chets et Ordures M√©nag√®res) pour les r√©cup√©rations en d√©chetterie.</div>
        
      </div>
    
    
      <p>Ce tutoriel explique comment assistance el√©ctrique de v√©lo.</p>
    
    
    <p style="color: #666; font-size: 0.95em;">
      <strong>Difficult√© :</strong> Hard Difficile &nbsp;&nbsp; 
      <strong>Dur√©e :</strong> 5 day(s) jour(s) &nbsp;&nbsp; 
      <strong>Co√ªt :</strong> 70 EUR (‚Ç¨)
    </p>
    
    <p style="font-size:0.95em; color:#066; margin-top:0.2em;">
      <strong>Lien du tutoriel de base :</strong>
      <a href="https://wiki.lowtechlab.org/wiki/Assistance_El√©ctrique_de_V√©lo" target="_blank" rel="noopener" style="color:#066;">https://wiki.lowtechlab.org/wiki/Assistance_El√©ctrique_de_V√©lo</a>
    </p>
    
    
  </header>

  <div class="section materials">
    <h2>üõ†Ô∏è Mat√©riaux</h2>
    
      <p><em>Non sp√©cifi√©</em></p>
    
  </div>

  <div class="section">
    <h2>üîß Outils</h2>
    
      <p><em>Non sp√©cifi√©</em></p>
    
  </div>

  <div class="section steps">
    <h2> √âtapes</h2>
    
      <ol>
        
          <li>
            
            
              <strong>1. √âtape 1 - Adaptation du p√©dalier</strong><div class='step-images count-1'><figure><img src='https://wiki.lowtechlab.org/images/3/3c/Assistance_El_ctrique_de_V_lo_P_dalier.png' alt='Assistance El ctrique de V lo P dalier.png' loading='lazy'></figure></div><p><strong>√âtapes :</strong></p><ol><li>Ici, on va chercher √† r√©cup√©rer la manivelle droite avec plateau(x) du v√©lo r√©cup√©r√©, pour la mettre √† la place de la manivelle gauche du v√©lo qu‚Äôon cherche √† √©quiper.</li><li>Pour se faire, on retire d‚Äôabord la p√©dale de la manivelle droite du v√©lo r√©cup√©r√© ainsi que son cache-poussi√®re.</li><li>Puis, il existe g√©n√©ralement un √©crou ou une vis √† retirer qui s√©curise le maintien de la manivelle √† l‚Äôaxe, pour ensuite utiliser l‚Äôextracteur de manivelle (chercher autres tutoriels en ligne) afin d‚Äôobtenir l‚Äôensemble manivelle + plateau(x) du v√©lo r√©cup√©r√©.</li><li>On extrait de la m√™me mani√®re la manivelle gauche du v√©lo √† √©quiper</li><li>On remplace cette manivelle par l‚Äôensemble manivelle + plateau(x) du v√©lo r√©cup√©r√© en resserrant bien les s√©curit√©s et les cache-poussi√®res, puis on peut remettre la p√©dale (il n‚Äôest g√©n√©ralement pas possible de mettre une p√©dale gauche sur une manivelle droite √† cause du sens des pas de vis).</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>2. √âtape 2 - Fixation du pignon au renvoi d‚Äôangle</strong><div class='step-images count-4'><figure><img src='https://wiki.lowtechlab.org/images/thumb/1/16/Assistance_El_ctrique_de_V_lo_IMG-20230627-WA0010_bis.jpg/800px-Assistance_El_ctrique_de_V_lo_IMG-20230627-WA0010_bis.jpg' alt='Assistance El ctrique de V lo IMG-20230627-WA0010 bis.jpg' loading='lazy'></figure><figure><img src='https://wiki.lowtechlab.org/images/f/fc/Assistance_El_ctrique_de_V_lo_Pignon.png' alt='Assistance El ctrique de V lo Pignon.png' loading='lazy'></figure><figure><img src='https://wiki.lowtechlab.org/images/b/bb/Assistance_El_ctrique_de_V_lo_Renvoi_d_angle.png' alt='Assistance El ctrique de V lo Renvoi d angle.png' loading='lazy'></figure><figure><img src='https://wiki.lowtechlab.org/images/5/58/Assistance_El_ctrique_de_V_lo_Assemblage.png' alt='Assistance El ctrique de V lo Assemblage.png' loading='lazy'></figure></div><p><strong>√âtapes :</strong></p><ol><li>Pour retirer le pignon ou la cassette d‚Äôune roue arri√®re, il existe des outils sp√©cifiques mais dont on peut facilement se passer, il existe de nombreux tutoriels en ligne expliquant comment les retirer.</li><li>Cependant, nous avons choisi dans notre cas de garder le tube de la roue pour conserver le filetage permettant la fixation du pignon, car le tube de la roue est fait pour accueillir des diam√®tres de tiges plus petits et plus adapt√©s au renvoi d‚Äôangle.</li><li>On coupe donc au plus proche de la fin de course du filetage pour le pignon, en conservant la but√©e pour le pignon si elle existe.</li><li>Au niveau du renvoi d‚Äôangle, un des c√¥t√©s disposait d‚Äôun mandrin de perceuse, qui une fois retir√©, laissait place √† une tige filet√©e qui nous a finalement permis d‚Äôy fixer le pignon libre.</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>3. √âtape 3 - Rangement pour le moteur et la commande</strong><div class='step-images count-4'><figure><img src='https://wiki.lowtechlab.org/images/thumb/d/d7/Assistance_El_ctrique_de_V_lo_IMG-20230626-WA0005.jpg/800px-Assistance_El_ctrique_de_V_lo_IMG-20230626-WA0005.jpg' alt='Assistance El ctrique de V lo IMG-20230626-WA0005.jpg' loading='lazy'></figure><figure><img src='https://wiki.lowtechlab.org/images/thumb/9/9f/Assistance_El_ctrique_de_V_lo_Tube_moteur_command.png/800px-Assistance_El_ctrique_de_V_lo_Tube_moteur_command.png' alt='Assistance El ctrique de V lo Tube moteur command.png' loading='lazy'></figure><figure><img src='https://wiki.lowtechlab.org/images/thumb/c/c7/Assistance_El_ctrique_de_V_lo_Tube_moteur_command_2.png/800px-Assistance_El_ctrique_de_V_lo_Tube_moteur_command_2.png' alt='Assistance El ctrique de V lo Tube moteur command 2.png' loading='lazy'></figure><figure><img src='https://wiki.lowtechlab.org/images/thumb/2/20/Assistance_El_ctrique_de_V_lo_Guide_anti-rotation.png/800px-Assistance_El_ctrique_de_V_lo_Guide_anti-rotation.png' alt='Assistance El ctrique de V lo Guide anti-rotation.png' loading='lazy'></figure></div><p><strong>√âtapes :</strong></p><ol><li>On coupe une longueur de tube PVC assez longue respectant les conditions suivantes<ul><li>Longueur amplement suffisante pour le moteur avec son syst√®me de r√©duction et l‚Äô√©lectronique de commande</li><li>Longueur permettant de mettre le tube au niveau du tube de cadre oblique, tout en laissant une bonne distance entre l‚Äôaxe avec pignon et les plateaux pour permettre une bonne transmission.</li></ul></li><li>On modifie ensuite ce tube avec :<ul><li>Un guide pour le renvoi d‚Äôangle afin de fixer son mouvement</li><li>Une zone am√©nag√©e pour l‚Äôaccueil des commandes avec Des trous pour les interrupteurs Des trous pour les LEDs Des trous pour un acc√®s aux c√¢bles</li><li>Des trous pour les interrupteurs</li><li>Des trous pour les LEDs</li><li>Des trous pour un acc√®s aux c√¢bles</li><li>Des trous permettant d‚Äôattacher le tube au cadre avec des colliers</li><li>Des trous pour les interrupteurs</li><li>Des trous pour les LEDs</li><li>Des trous pour un acc√®s aux c√¢bles</li></ul></li><li>Pour emp√™cher la rotation du tube, il est √©galement n√©cessaire de r√©aliser une autre pi√®ce qui viendra se fixer √† deux tubes du v√©lo, et dans laquelle on viendra ins√©rer la pi√®ce pr√©c√©dente √† l‚Äôaide de deux fourches et d‚Äôune coupe en biais.</li><li>Cette autre pi√®ce se compose d‚Äôun tube PVC de m√™me diam√®tre</li><li>que pr√©c√©demment, coup√© en deux en longueur et d‚Äôune longueur comprenant les diam√®tres des deux tubes contre lesquelles elle vient se poser et la longueur que l‚Äôon veut entre ces deux tubes.</li><li>On y am√©nage alors :<ul><li>Des encoches pour venir √©pouser le diam√®tre des tubes de cadre</li><li>Des trous pour permettre d‚Äôattacher le tube aux deux tubes de cadres</li><li>Des trous pour venir passer les c√¢bles du capteur √† effet Hall</li><li>Des trous pour venir ins√©rer la pi√®ce pr√©c√©dente Ces trous doivent √™tre plac√©s √† une distance de sorte que la pi√®ce pr√©c√©dente vienne s‚Äôy ins√©rer au bon angle du tube oblique de cadre</li><li>Ces trous doivent √™tre plac√©s √† une distance de sorte que la pi√®ce pr√©c√©dente vienne s‚Äôy ins√©rer au bon angle du tube oblique de cadre</li><li>Ces trous doivent √™tre plac√©s √† une distance de sorte que la pi√®ce pr√©c√©dente vienne s‚Äôy ins√©rer au bon angle du tube oblique de cadre</li></ul></li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>4. √âtape 4 - Stockage de la batterie</strong><div class='step-images count-5'><figure><img src='https://wiki.lowtechlab.org/images/thumb/8/86/Assistance_El_ctrique_de_V_lo_IMG-20230626-WA0002.jpg/800px-Assistance_El_ctrique_de_V_lo_IMG-20230626-WA0002.jpg' alt='Assistance El ctrique de V lo IMG-20230626-WA0002.jpg' loading='lazy'></figure><figure><img src='https://wiki.lowtechlab.org/images/thumb/5/56/Assistance_El_ctrique_de_V_lo_20230419_161436.jpg/800px-Assistance_El_ctrique_de_V_lo_20230419_161436.jpg' alt='Assistance El ctrique de V lo 20230419 161436.jpg' loading='lazy'></figure><figure><img src='https://wiki.lowtechlab.org/images/thumb/3/37/Assistance_El_ctrique_de_V_lo_20230419_161419.jpg/800px-Assistance_El_ctrique_de_V_lo_20230419_161419.jpg' alt='Assistance El ctrique de V lo 20230419 161419.jpg' loading='lazy'></figure><figure><img src='https://wiki.lowtechlab.org/images/thumb/0/0f/Assistance_El_ctrique_de_V_lo_20230419_161514.jpg/800px-Assistance_El_ctrique_de_V_lo_20230419_161514.jpg' alt='Assistance El ctrique de V lo 20230419 161514.jpg' loading='lazy'></figure><figure><img src='https://wiki.lowtechlab.org/images/thumb/8/81/Assistance_El_ctrique_de_V_lo_20230419_161351.jpg/800px-Assistance_El_ctrique_de_V_lo_20230419_161351.jpg' alt='Assistance El ctrique de V lo 20230419 161351.jpg' loading='lazy'></figure></div><p><strong>√âtapes :</strong></p><ol><li>On va se servir ici d'un tube en PVC en th√©orie plus large pour pouvoir y loger la batterie.</li><li>Il suffit alors de :<ul><li>Couper le tube √† une longueur l√©g√®rement plus grand que la batterie</li><li>Tailler une encoche pour passer le bout de connexion de puissance de la batterie</li><li>Faire des trous pour les colliers de serrage</li><li>Mettre des mousses au fond et √† l'int√©rieur pour maintenir la batterie (Ne pas h√©siter √† en mettre pour que la batterie soit maintenue)</li></ul></li><li>Le tout s'attache ensuite au cadre horizontal du v√©lo.</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>5. √âtape 5 - Principe g√©n√©ral des circuits √©lectriques</strong><div class='step-images count-1'><figure><img src='https://wiki.lowtechlab.org/images/thumb/8/8d/Assistance_El_ctrique_de_V_lo_Principe_circuits.png/800px-Assistance_El_ctrique_de_V_lo_Principe_circuits.png' alt='Assistance El ctrique de V lo Principe circuits.png' loading='lazy'></figure></div><p><strong>√âtapes :</strong></p><ol><li>Il existe un circuit de commande et un circuit de puissance qui communiquent √† l‚Äôaide d‚Äôun relais m√©canique (ou d‚Äôun transistor) qui ouvre ou ferme le circuit de puissance selon les ordres du circuit de commande comme le montre le sch√©ma ci-dessous.</li><li>Au niveau de la s√©curit√©, il faut s‚Äôassurer la s√©paration des circuits car le circuit de commande est √† faible intensit√© et tension (inferieur √† 5V), donc peu dangereux, au contraire du circuit de puissance est √† grande intensit√© (‚àΩ10A) et grande tension (‚àΩ20V) tr√®s dangereux.</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>6. √âtape 6 - Composition et articulation du circuit de commande</strong><div class='step-images count-1'><figure><img src='https://wiki.lowtechlab.org/images/thumb/4/4a/Assistance_El_ctrique_de_V_lo_Fonctions_commande.png/800px-Assistance_El_ctrique_de_V_lo_Fonctions_commande.png' alt='Assistance El ctrique de V lo Fonctions commande.png' loading='lazy'></figure></div><p><strong>√âtapes :</strong></p><ol><li>L‚Äôobjectif de ce circuit est d‚Äôouvrir et fermer le relais ou le transistor selon les informations des interrupteurs et capteurs disponibles.</li><li>L‚Äôid√©e est d‚Äôutiliser une carte ARDUINO tr√®s r√©pandu, bon march√© et peu gourmande en √©nergie afin de commander ce circuit, c‚Äôest le cerveau de notre projet.</li><li>Notre circuit de commande va capter plusieurs informations :<ul><li>La demande d‚Äôallumage du syst√®me via un interrupteur ON/OFF (sert aussi d‚Äôarr√™t d‚Äôurgence)</li><li>Le p√©dalage de la part de l‚Äôutilisateur via un capteur √† Effet Hall (obligation l√©gale)</li><li>La demande de motorisation via un interrupteur ON/OFF (si relais m√©canique) ou un potentiom√®tre (si commande PWM via un transistor)</li></ul></li><li>De plus, afin de communiquer avec l‚Äôutilisateur, nous utiliserons 3 LEDS (verte, bleue et rouge pour chaque fonctions) pour lui indiquer lorsque chaque circuit sont activ√©s.</li><li>Une remarque concernant la derni√®re fonction selon si vous √™tes capable de r√©cup√©rer le syst√®me de commande d‚Äôorigine du moteur √©lectrique.<ul><li>Si vous √™tes capables de le r√©cup√©rer, celui-ci se situera dans le circuit de puissance et il faudra quand m√™me utiliser un relais pour activer ce circuit</li><li>Sinon, nous pouvons le construire dans le circuit de commande (fonction de demande de motorisation) avec un relais (commande ON/OFF) et un transistor (commande PWM avec un potentiom√®tre)</li></ul></li><li>Notre circuit s‚Äôarticule autour de trois petits circuits d‚Äôalimentation pour les trois fonctions primaires qui s‚Äôactivent lorsque la fonction pr√©sente est valide.</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>7. √âtape 7 - Sch√©ma √©lectrique du circuit de commande</strong><div class='step-images count-1'><figure><img src='https://wiki.lowtechlab.org/images/thumb/9/9b/Assistance_El_ctrique_de_V_lo_Circuit_de_commande.png/800px-Assistance_El_ctrique_de_V_lo_Circuit_de_commande.png' alt='Assistance El ctrique de V lo Circuit de commande.png' loading='lazy'></figure></div><p><strong>√âtapes :</strong></p><ol><li>Voici le sch√©ma √©lectrique de notre circuit de commande. On remarque bien ici les 3 circuits li√©s √† nos trois fonctions et les 3 LED de communications avec l‚Äôutilisateur.</li><li>Enfin, dans les deux autres cas de figures (r√©cup√©rations de composants ou utilisation d‚Äôun transistor), le circuit de commande est assez peu modifi√©. Dans ces deux cas, le code de commande est inchang√© puisque les seuls changements sont sur la captation de l‚Äôinformation et le type d‚Äôinstrument pour communiquer avec le circuit de puissance<ul><li>Cas o√π nous r√©cup√©rons un syst√®me de de commande de moteur d‚Äôorigine : le circuit de commande reste identique et seul le circuit de puissance est modifi√© via l‚Äôajout de ce syst√®me</li><li>Cas o√π nous voulons faire varier la demande du moteur : nous changerons l‚Äôinterrupteur ON/OFF de la demande de motorisation avec un potentiom√®tre et nous changerons le relais par un transistor</li></ul></li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>8. √âtape 8 - Capteur √† Effet √† Hall</strong><div class='step-images count-2'><figure><img src='https://wiki.lowtechlab.org/images/thumb/c/ca/Assistance_El_ctrique_de_V_lo_P_dalier_Hall.png/800px-Assistance_El_ctrique_de_V_lo_P_dalier_Hall.png' alt='Assistance El ctrique de V lo P dalier Hall.png' loading='lazy'></figure><figure><img src='https://wiki.lowtechlab.org/images/thumb/8/85/Assistance_El_ctrique_de_V_lo_Code_Hall.png/800px-Assistance_El_ctrique_de_V_lo_Code_Hall.png' alt='Assistance El ctrique de V lo Code Hall.png' loading='lazy'></figure></div><p><strong>√âtapes :</strong></p><ol><li>Il faut ensuite configurer le capteur √† Effet Hall, comprendre comment celui-ci peut capter le p√©dalage du p√©dalier.</li><li>Ce capteur est compos√© de 2 √©l√©ments : des aimants situ√©s sur le p√©dalier et du capteur en lui-m√™me sur le cadre. En d√©tectant chaque aimant, on va pouvoir d√©duire une p√©riode de d√©tection entre deux aimants et √† partir d‚Äôune p√©riode seuil, on va pouvoir d√©tecter que le p√©dalier tourner.</li><li>De plus, on peut compter le nombre d‚Äôaimants que le capteur voit et on veillera √† que le p√©dalier fasse plusieurs tours (pour √©viter un trou √† l‚Äôarr√™t par erreur) avant de d√©marrer.</li><li>Nous avons un p√©dalier avec 5 branches donc un tour de p√©dalier correspond √† un comptage de 5. Donc durant les 10 premiers comptages (2 tours), nous prenons soins d‚Äôavoir de syst√®me √† l‚Äôarr√™t pour √©viter ces tours de p√©daliers accidentels.<ul><li>Enfin, il faut fixer la p√©riode de rotation limite pour activer ou non le syst√®me, sachant qu‚Äôun cycliste p√©dale √† environ 1 tour par seconde, nous avons mis la limite entre 2 aimants √† 2 secondes (i.e si l‚Äôon fait plus de 5*2=10 secondes pour un tour de p√©dalier, on consid√®re que nous avons pas envie d‚Äôacc√©l√©rer, donc nous arr√™tons le moteur).</li></ul></li><li>On voit bien que dans le programme, on incr√©mente le comptage des aimants et on actualise la valeur de la variable p√©riode.</li><li>Certaines variables d‚Äôaffichages sont volontairement d√©sactiv√©es, elles seront activ√©es durant la phase de mise au point.</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>9. √âtape 9 - Communication avec l'utilisateur</strong><div class='step-images count-1'><figure><img src='https://wiki.lowtechlab.org/images/e/e1/Assistance_El_ctrique_de_V_lo_Communication.png' alt='Assistance El ctrique de V lo Communication.png' loading='lazy'></figure></div><p><strong>√âtapes :</strong></p><ol><li>La communication avec l‚Äôutilisateur se faire √† l‚Äôaide d‚Äôinterrupteur pour r√©cup√©rer les demandes de l‚Äôutilisateur et de LED afin de lui signifier les √©tats du syst√®me.</li><li>L‚Äôutilisation de nos LED de communication est r√©sum√©e dans le tableau ci-dessous.</li><li>* Dans les trois fonctions, les LED peuvent √™tre reli√©es √† leur composant et peuvent √™tre activ√©es √©lectriquement (i.e si le composant renvoie un signal √† 5V, nous pouvons allumer la LED avec) afin de r√©duire le nombre de pin impliqu√©s sur l‚ÄôARDUINO. Nous avons d√©cid√© pour des raisons d‚Äôemplacement et de praticit√© de commander les LED rouge et bleue avec des pins s√©par√©s.</li><li>Il ne faudra pas oublier de brancher une r√©sistance avec la LED pour √©viter les surintensit√©s dans ces composants fragiles. Cette r√©sistance ne devra pas √™tre trop √©lev√©e afin d‚Äô avoir la luminosit√© suffisante pour √™tre vues par l‚Äôutilisateur.</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>10. √âtape 10 - Code g√©n√©ral de la carte Arduino</strong><div class='step-images count-1'><figure><img src='https://wiki.lowtechlab.org/images/thumb/e/eb/Assistance_El_ctrique_de_V_lo_Code_de_contr_le.png/800px-Assistance_El_ctrique_de_V_lo_Code_de_contr_le.png' alt='Assistance El ctrique de V lo Code de contr le.png' loading='lazy'></figure></div><p><strong>√âtapes :</strong></p><ol><li>Le code de la carte ARDUINO reprend l‚Äôid√©e des 3 circuits et aussi ajoute des compl√©ments s√©curitaires<ul><li>Le passage de l‚Äôinterrupteur de d√©marrage de 1 √† 0 assure l‚Äôarr√™t total du syst√®me (i.e. comme un arr√™t d‚Äôurgence)</li><li>N√©cessit√© d‚Äôune fr√©quence de d√©marrage √©lev√© et de plusieurs tours pour d√©marrer (ex : un tour de p√©dale √† l‚Äôarr√™t ne suffira pas).</li><li>Quelques √©l√©ments d‚Äôaffichages qui peuvent √™tre enlev√©s dans le cas de l‚Äôutilisation r√©guli√®re mais qui sont int√©ressant √† conserver durant la phase de conception.</li></ul></li><li>On va d‚Äôabord d√©finir les PIN selon leur type (Entr√©e ou Sortie) et les variables de comptage (initialis√© √† 0) et de p√©riode (initialiser √† 10000 pour √©viter le d√©marrage impr√©vue).</li><li>Ensuite, le circuit est articul√© autour d‚Äôune boucle v√©rifiant les trois fonctions vues il y a quelques pages.</li><li>On remarque bien les trois fonctions ( verte pour le d√©marrage, bleue pour le p√©dalage et rouge pour l‚Äôactivation de la motorisation).</li><li>Enfin, nous pouvons voir les blocs de s√©curit√©, que ce soit afin l‚Äôarr√™t d‚Äôurgence avec l‚Äôinterrupteur ou bien pour √©viter de faire un seul tour accidentel (en noir ).</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>11. √âtape 11 - Conclusion de la partie commande</strong><p><strong>√âtapes :</strong></p><ol><li>Pour conclure cette partie, nous somme capable √† l‚Äôaide du circuit de commande d‚Äôactiver un relais via un interrupteur de demande de motorisation (ou de commander une PWM via un transistor et un potentiom√®tre) avec le code pr√©c√©dent.</li><li>Nous avons vu qu‚Äôavec un capteur √† Effet Hall, nous pouvons mesurer la fr√©quence de rotation pour assurer une bonne s√©curit√© et le d√©marrage du syst√®me.</li><li>En piste d‚Äôam√©lioration, nous pouvons imaginer un calcul de la vitesse lin√©aire du v√©lo (via le capteur √† Effet Hall ou un syst√®me GPS).</li><li>Nous omettons volontairement la phase de r√©alisation qui fera l‚Äôobjet d‚Äôun paragraphe sp√©cifique.</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>12. √âtape 12 - Circuit de puissance</strong><div class='step-images count-3'><figure><img src='https://wiki.lowtechlab.org/images/thumb/5/5c/Assistance_El_ctrique_de_V_lo_Commande_relais.png/800px-Assistance_El_ctrique_de_V_lo_Commande_relais.png' alt='Assistance El ctrique de V lo Commande relais.png' loading='lazy'></figure><figure><img src='https://wiki.lowtechlab.org/images/c/c6/Assistance_El_ctrique_de_V_lo_Commande_transistor.png' alt='Assistance El ctrique de V lo Commande transistor.png' loading='lazy'></figure><figure><img src='https://wiki.lowtechlab.org/images/thumb/a/aa/Assistance_El_ctrique_de_V_lo_Commande_relais_r_cup_ration.png/800px-Assistance_El_ctrique_de_V_lo_Commande_relais_r_cup_ration.png' alt='Assistance El ctrique de V lo Commande relais r cup ration.png' loading='lazy'></figure></div><p><strong>√âtapes :</strong></p><ol><li>L‚Äôobjectif de ce circuit d‚Äôutiliser la commande via le transistor et le relais afin d‚Äôallumer le moteur.</li><li>Afin de garantir le maximum de s√©curit√©<ul><li>Nous essayerons de limiter le nombre de composants dans le circuit de puissance (car √† forte intensit√© et fort voltage).</li><li>Nous utiliserons une diode de roue libre plac√©e en parall√®le du moteur la cathode reli√©e au ¬´ + ¬ª du moteur afin d‚Äô√©viter les arcs √©lectriques lors de la coupure car le bobinage du moteur va imposer la continuit√© du courant et nous avons besoin d‚Äôune diode pour pouvoir ¬´ d√©charger ¬ª le moteur.</li><li>Nous utiliserons un condensateur en parall√®le de la batterie affin de garantir la continuit√© de la tension lors de la coupure</li></ul></li><li>Les deux derniers dispositifs de protection du moteur et de la batterie sont n√©cessaires si nous ne sommes pas en mesure de r√©cup√©rer le syst√®me de commande d‚Äôorigine du moteur (qui permet un arr√™t plus doux qu‚Äôun interrupteur de demande de motorisation), cependant, afin d‚Äô√©viter tout risques, nous conseillons d‚Äôutiliser ces syst√®mes dans les deux cas.</li><li>Voici les sch√©mas √©lectriques des circuits de puissance :<ul><li>Commande relais et pas de r√©cup√©ration du syst√®me de commande d‚Äôorigine</li><li>Commande transistor et pas de r√©cup√©ration du syst√®me de commande d‚Äôorigine</li><li>Commande relais (transistor inutile dans ce cas-l√†) et possibilit√© de r√©cup√©ration du syst√®me de commande d‚Äôorigine</li></ul></li><li>Pour conclure cette partie sur le circuit de puissance, nous avons vu que ce circuit est tr√®s simple pour des raisons de s√©curit√© et que m√™me si nous r√©cup√©rons le syst√®me de commande d‚Äôorigine du moteur, ce circuit ne varie peu.</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>13. √âtape 13 - Int√©gration du syst√®me de communication avec l'utilisateur</strong><div class='step-images count-1'><figure><img src='https://wiki.lowtechlab.org/images/thumb/0/0d/Assistance_El_ctrique_de_V_lo_Placement_communication.png/800px-Assistance_El_ctrique_de_V_lo_Placement_communication.png' alt='Assistance El ctrique de V lo Placement communication.png' loading='lazy'></figure></div><p><strong>√âtapes :</strong></p><ol><li>L‚Äôobjectif principal de ce sous-syst√®me est de pouvoir communiquer intelligiblement avec l‚Äôutilisateurs. Les interrupteurs devront √™tre facilement accessible par l‚Äôutilisateur et les LED visibles par ce m√™me utilisateur.</li><li>Pour ce faire, nous placerons LED et interrupteurs sur le cadre du v√©lo, proche de l‚Äôutilisateur (similaire √† l‚Äôemplacement du contr√¥le du d√©railleur sur les anciens v√©los). De plus, nous veillerons √† prendre une r√©sistance associ√©e √† la LED petite (‚àΩ 100 Œ©) afin de garder ces LED visibles.</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>14. √âtape 14 - Apart√© sur le syst√®me de commande d'origine du moteur</strong><p><strong>√âtapes :</strong></p><ol><li>Cette partie concerne seulement les personnes ayant √©t√© capables de r√©cup√©rer le syst√®me de commande d‚Äôorigine du moteur.</li><li>Ce syst√®me, principalement √† g√¢chette sur les perceuses, devra √™tre situ√© proche du cycliste id√©alement sur le c√¥t√© gauche du guidon.</li><li>Une remarque sur les soudures de ce syst√®me : si vous avez besoin d‚Äôallongement du c√¢ble entre la g√¢chette et la batterie et le moteur (√† coup s√ªr n√©cessaire car une perceuse est bien plus compacte qu‚Äôun v√©lo), ne pas toucher aux soudures d‚Äôorigine entre les c√¢bles et la commande d‚Äôorigine. On pourra privil√©gier la coupure des c√¢bles en leur centre et l‚Äôinsertion d‚Äôun c√¢ble au milieu. Cela permettra de conserver les soudures d‚Äôorigine, souvent bien plus solide et fiable.</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>15. √âtape 15 - Int√©gration de l'Arduino</strong><div class='step-images count-2'><figure><img src='https://wiki.lowtechlab.org/images/2/21/Assistance_El_ctrique_de_V_lo_1er_lieu_Arduino.png' alt='Assistance El ctrique de V lo 1er lieu Arduino.png' loading='lazy'></figure><figure><img src='https://wiki.lowtechlab.org/images/5/53/Assistance_El_ctrique_de_V_lo_2_me_lieu_Arduino.png' alt='Assistance El ctrique de V lo 2 me lieu Arduino.png' loading='lazy'></figure></div><p><strong>√âtapes :</strong></p><ol><li>La carte ARDUINO peut √™tre assez grande, il faut donc pr√©voir un emplacement pour elle et son alimentation.</li><li>Une des premi√®res id√©es et d‚Äôins√©rer cette carte dans le tube sur le cadre. Nous avons pens√©e √† installer 2 planches afin de caler notre carte ARDUINO.</li><li>Cependant, il √©tait impossible de positionner la carte ARDUINO dans cet emplacement, de plus il y aurait pu avoir des probl√®mes de r√©chauffement dans le tube.</li><li>Apr√®s plusieurs recherche & investigations, nous avons donc imagin√© une solution meilleure: celle d‚Äôutiliser une sacoche afin de placer l‚ÄôARDUINO au niveau du cadre.</li><li>Au-del√† d‚Äôavoir un emplacement suffisant, nous avons l‚Äôavantage de pouvoir d√©coupler physiquement les circuits de commande et de puissance.</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>16. √âtape 16 - Int√©gration du circuit √©lectronique et du c√¢blage</strong><p><strong>√âtapes :</strong></p><ol><li>L‚Äôid√©e du circuit √©lectronique est de positionner le circuit de commande proche de la carte Arduino. Le circuit de puissance est lui situ√© proche du moteur (sauf dans le cas ou vous avez r√©ussi √† r√©cup√©rer la commande d‚Äôorigine du moteur qui doit √™tre situ√© proche du guidon afin d‚Äôavoir un contr√¥le plus simple de la part de l‚Äôutilisateur).</li><li>Nous d√©composerons nos remarques sur les deux circuits (commande et puissance) :</li><li>La principale difficult√© de ce circuit a √©t√© d‚Äôagencer tous les composants de mani√®re fiable et s√©curitaire en prot√©geant les connections et les contacts √† l‚ÄôArduino (on privil√©giera un shield arduino permettant de viser les pin plut√¥t que de les clipser).</li><li>Ci circuit, malgr√© sa simplicit√© apparente devra √™tre brancher de mani√®re extr√™mement prudente car il est un circuit de forte intensit√© et voltage. Les deux composants √† brancher (diode roue libre et condensateur de protection) devront √™tre placer proche des √©l√©ments qu‚Äôils prot√®gent (respectivement moteur & batterie). On fera attention √† qu‚Äôils aient l‚Äôespace n√©cessaire afin de respirer et de se refroidir correctement.</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
          <li>
            
            
              <strong>17. √âtape 17 - Placement du capteur √† Effet Hall</strong><div class='step-images count-1'><figure><img src='https://wiki.lowtechlab.org/images/thumb/7/7d/Assistance_El_ctrique_de_V_lo_Placement_Hall.png/800px-Assistance_El_ctrique_de_V_lo_Placement_Hall.png' alt='Assistance El ctrique de V lo Placement Hall.png' loading='lazy'></figure></div><p><strong>√âtapes :</strong></p><ol><li>Plusieurs solutions sont envisageables afin de satisfaire l‚Äôexigence de la captation du p√©dalage.<ul><li>Mesurer la fr√©quence de rotation du p√©dalier avec un capteur √† Effet Hall et des aimants positionn√© sur le p√©dalier</li><li>Mesure la vitesse lin√©aire avec un GPS par exemple</li><li>Mesure la force sur le p√©dalier via un capteur de force situ√© sur le p√©dalier</li></ul></li><li>Pour des raisons de co√ªts, de simplicit√© de montage et de fiabilit√©, nous avons d√©cid√© d‚Äôopter pour la solution avec un capteur √† Effet Hall.</li><li>On a donc deux composants √† bien installer :<ul><li>Le capteur : il doit √™tre prot√©g√© et bien fix√©, il faut donc installer un boitier de protection. Celui-ci devra √™tre positionn√© dans l‚Äôespace creux sous le tube.</li><li>Les aimants devront √™tre fix√© sur chaque branche du p√©dalier afin d‚Äôavoir plus de pr√©cision. Cependant, si les aimants sont positionn√©s √† un seul endroit, cela ne remet pas en cause la viabilit√© de notre syst√®me.</li></ul></li><li>NB : Le capteur ayant une faible port√©, il devra √™tre positionn√© au plus proche des aimants. De plus, nous pouvons utiliser plusieurs aimants en superpositions (sur chaque branche) afin d‚Äôaugmenter le champ de d√©tection possible.</li></ol>
            

            
            
            
              
              
                
                
                
              

              
            
          </li>
        
      </ol>
    
  </div>

  

  <!-- Lightbox overlay for viewing images -->
  <div id="lightbox" class="lightbox-overlay" aria-hidden="true">
    <button id="lb-close" class="lightbox-close" aria-label="Fermer">√ó</button>
    <!-- Prev/Next visible controls -->
    <button id="lb-prev" class="lightbox-control lightbox-prev" aria-label="Image pr√©c√©dente">‚Äπ</button>
    <button id="lb-next" class="lightbox-control lightbox-next" aria-label="Image suivante">‚Ä∫</button>
    <div class="lightbox-content">
      <img id="lb-img" src="" alt="">
      <div id="lb-caption" class="lightbox-caption"></div>
    </div>
  </div>

  <script>
    // JS lightbox: delegate clicks from step-images figures
    document.addEventListener('click', function(ev){
      const fig = ev.target.closest('.step-images figure');
      if(!fig) return;
      const container = fig.closest('.step-images');
      if(!container) return;
      const figures = Array.from(container.querySelectorAll('figure'));
      const idx = figures.indexOf(fig);
      if(idx < 0) return;

      const overlay = document.getElementById('lightbox');
      const imgEl = document.getElementById('lb-img');
      const captionEl = document.getElementById('lb-caption');
      const btnPrev = document.getElementById('lb-prev');
      const btnNext = document.getElementById('lb-next');

      let current = idx;
      function show(i){
        const f = figures[i];
        const im = f.querySelector('img');
        const cap = f.querySelector('figcaption');
        if(im){ imgEl.src = im.src; imgEl.alt = im.alt || ''; }
        captionEl.textContent = cap ? cap.textContent : '';
        overlay.classList.add('active');
        overlay.setAttribute('aria-hidden','false');
      }
      function hide(){ overlay.classList.remove('active'); overlay.setAttribute('aria-hidden','true'); }

      show(current);

      // close handlers
      document.getElementById('lb-close').onclick = hide;
      overlay.onclick = function(e){ if(e.target === overlay) hide(); };
      // prev/next click handlers
      if(btnPrev){ btnPrev.onclick = function(e){ e.stopPropagation(); current = Math.max(current-1, 0); show(current); }; }
      if(btnNext){ btnNext.onclick = function(e){ e.stopPropagation(); current = Math.min(current+1, figures.length-1); show(current); }; }
      document.onkeydown = function(e){
        if(e.key === 'Escape') hide();
        if(e.key === 'ArrowRight') { current = Math.min(current+1, figures.length-1); show(current); }
        if(e.key === 'ArrowLeft') { current = Math.max(current-1, 0); show(current); }
      };
    });
  </script>

  <style>
    /* lightbox visible controls styling */
    .lightbox-control {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.35);
      color: #fff;
      border: none;
      width: 44px;
      height: 70px;
      font-size: 2rem;
      line-height: 1;
      border-radius: 6px;
      cursor: pointer;
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
    }
    .lightbox-prev { left: 12px; }
    .lightbox-next { right: 12px; }
    .lightbox-control:hover { background: rgba(0,0,0,0.6); }
    @media (max-width: 600px){ .lightbox-control { width: 36px; height: 56px; font-size: 1.6rem; } }
  </style>

  

</body>
</html>