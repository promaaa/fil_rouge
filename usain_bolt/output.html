<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Syst√®me d'√©clairage v√©lo Arduino avec clignotants et odom√®tre</title>
  <style>
    body {
      font-family: "Helvetica", Arial, sans-serif;
      max-width: 800px;
      margin: auto;
      background-color: #fafafa;
      color: #222;
      line-height: 1.6;
      padding: 20px;
    }

    h1 {
      color: #210dfd8b;
      border-bottom: 2px solid #ce510dff;
      padding-bottom: 0.2em;
    }

    h2 {
      color: #333;
      margin-top: 1.5em;
    }

    ul, ol {
      margin-left: 1.5em;
    }

    /* Sous-listes dans les √©tapes */
    ol > li ul {
      margin-top: 0.5em;
      margin-bottom: 0.5em;
    }

    ol > li strong {
      color: #444;
      display: block;
      margin-bottom: 0.3em;
    }

    .section {
      margin-bottom: 2em;
      background: #fff;
      padding: 1em;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }

    /* Styliser le titre principal de chaque √©tape : encadr√© gris et police un peu plus grande
       Cibl√© uniquement dans la section √âtapes (classe .steps) pour √©viter d'impacter d'autres <strong>. */
    .section.steps > ol > li > strong:first-child {
      display: block;
      background: #f3f3f3; /* gris tr√®s clair */
      color: #222;
      padding: 0.45rem 0.6rem;
      border: 1px solid #d6d6d6;
      border-radius: 6px;
      font-size: 1.06em; /* l√©g√®rement plus grand */
      margin-bottom: 0.45rem;
    }

    /* Mat√©riaux: rendre les sous-items gris√©s et en police plus petite */
    .section.materials ul ul {
      color: #666;
      font-size: 0.9em;
      margin-top: 0.35em;
    }

    /* (Step title framed styles were removed per user request to revert) */

    .step-images {
      margin: 1em 0;
      display: grid;
      gap: 0.6rem;
    }

  /* Layout for image boxes: adjust columns based on count via classes .count-N */
  .step-images.count-1 { grid-template-columns: 1fr; }
  .step-images.count-2 { grid-template-columns: repeat(2, 1fr); }
  .step-images.count-3 { grid-template-columns: repeat(3, 1fr); }
  /* For 4 or more images, use 2 columns thumbnail layout for a more harmonious small-preview look */
  .step-images.count-4,
  .step-images.count-5,
  .step-images.count-6,
  .step-images.count-7,
  .step-images.count-8,
  .step-images.count-9,
  .step-images.count-10 { grid-template-columns: repeat(2, 1fr); }

    /* container box around the whole set of images for the step */
    .step-images {
      margin: 1em 0;
      display: grid;
      gap: 0.6rem;
      background: #fafafa; /* subtle gray background */
      border: 1px solid #e6e6e6;
      padding: 0.6rem;
      border-radius: 8px;
    }

    figure {
      margin: 0;
      text-align: center;
      background: transparent;
      padding: 0.25rem 0;
      border-radius: 6px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    /* Thumbnails: show the whole image (no cropping). Use contain with max dims so
       small images display fully while larger images are constrained. Center them. */
    .step-images figure img {
      width: auto;
      max-width: 100%;
      max-height: 160px; /* control thumbnail height but do not crop */
      object-fit: contain; /* show full image */
      background: #f5f5f5; /* subtle neutral background for small images */
      border-radius: 4px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.08);
      cursor: zoom-in;
      display: block;
      margin: 0 auto; /* center narrower images */
    }
    /* Single-image steps: let the image take available width while preserving aspect */
    .step-images.count-1 figure img {
      width: 100%;
      height: auto;
      object-fit: contain;
      max-height: none;
    }

    /* Hide figcaptions in thumbnail/grid mode; captions are shown in the lightbox */
    .step-images figure figcaption { display: none; }

    figcaption {
      font-size: 0.9em;
      color: #666;
      margin-top: 0.5em;
      font-style: italic;
    }
    

    /* Lightbox overlay */
    .lightbox-overlay {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.75);
      z-index: 9999;
      padding: 1rem;
    }
    .lightbox-overlay.active { display: flex; }
    .lightbox-content {
      max-width: 95%;
      max-height: 95%;
      text-align: center;
    }
    .lightbox-content img {
      max-width: 100%;
      max-height: 80vh;
      border-radius: 6px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.5);
    }
    .lightbox-caption { color: #fff; margin-top: 0.6rem; font-size: 0.95em; }
    .lightbox-close {
      position: absolute; top: 12px; right: 16px; color: #fff; background: transparent;
      border: none; font-size: 1.6rem; cursor: pointer;
    }

    footer {
      margin-top: 2em;
      font-size: 0.9em;
      color: #666;
      border-top: 1px solid #ddd;
      padding-top: 1em;
    }

    /* Style impression PDF */
    @media print {
      body { background: white; color: black; }
      a { color: black; text-decoration: none; }
      .section { box-shadow: none; border: 1px solid #ccc; }
    }
  </style>
</head>
<body>

  <header>
    <h1>Syst√®me d'√©clairage v√©lo Arduino avec clignotants et odom√®tre</h1>
    
      <div style="text-align:center; margin-bottom:1.2em;">
        <img src="https://content.instructables.com/FGO/6FB0/LY2ZW52N/FGO6FB0LY2ZW52N.jpg?auto=webp&frame=1&width=1024&height=1024&fit=bounds&md=MjAyNC0wNy0wMiAwNToyODo1Ni4w&_gl=1*1kjzeg4*_ga*NzIwNjQzNDAyLjE3NjEwNTU1NDM.*_ga_NZSJ72N6RX*czE3NjIwMTIyNzUkbzMkZzEkdDE3NjIwMTIyNzUkajYwJGwwJGgw" alt="Image principale du tutoriel" style="max-width:100%; max-height:320px; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.08);">
        
      </div>
    
    
      
        <p>Ce tutoriel pr√©sente la construction d'un syst√®me d'√©clairage intelligent pour v√©lo comprenant des feux avant et arri√®re, des clignotants directionnels, et un odom√®tre affichant la vitesse, le temps et la distance totale parcourue.</p>
      
        <p>Le syst√®me am√©liore consid√©rablement la s√©curit√© √† v√©lo, particuli√®rement la nuit, en rendant le cycliste plus visible et en communiquant ses intentions aux autres usagers de la route.</p>
      
        <p>Caract√©ristiques principales :<ul><li>Feux avant blancs et arri√®re rouges tr√®s lumineux</li><li>Clignotants jaunes gauche et droite</li><li>√âcran OLED affichant vitesse, temps, kilom√©trage</li><li>Contr√¥le par boutons sur le guidon</li><li>Capteur magn√©tique de vitesse sur la roue</li><li>Alimentation par batterie 18650 rechargeable USB-C</li><li>√âlectronique cach√©e dans une gourde pour √©viter le vol</li></ul></p>
      
    
    
    <p style="color: #666; font-size: 0.95em;">
      <strong>Difficult√© :</strong> Difficile &nbsp;&nbsp; 
      <strong>Dur√©e :</strong> 2 mois &nbsp;&nbsp; 
      <strong>Co√ªt :</strong> 50-80 EUR (‚Ç¨)
    </p>
    
    <p style="font-size:0.95em; color:#066; margin-top:0.2em;">
      <strong>Lien du tutoriel de base :</strong>
      <a href="https://www.instructables.com/This-Project-Reduces-Bike-Crashes-DIY-Arduino-Bike/" target="_blank" rel="noopener" style="color:#066;">https://www.instructables.com/This-Project-Reduces-Bike-Crashes-DIY-Arduino-Bike/</a>
    </p>
    
    
  </header>

  <div class="section materials">
    <h2>üõ†Ô∏è Mat√©riaux</h2>
    
      <ul>
        <li>Composants √©lectroniques principaux :</li><li>Carte Arduino Nano</li><li>√âcran OLED 0.96" 128x64 monochrome avec communication i2c</li><li>3 boutons tactiles 12x12 mm</li><li>2 capteurs √† effet Hall US5881 (un optionnel)</li><li>Module horloge temps r√©el DS3231</li><li>4 MOSFETs IRFZ44N</li><li>Cellule de batterie lithium-ion 18650</li><li>Module chargeur TP4056 avec port USB-C</li><li>Module boost 5V 500mA (ou plus)</li><li>Interrupteur √† bascule</li><li>C√¢ble 4 conducteurs 26 AWG (~5 m√®tres)</li><li>Plaque √† trous (perfboard)</li><li>R√©sistances :<ul><li>4 r√©sistances 220 Ohm</li><li>6 r√©sistances 10K Ohm</li><li>2 r√©sistances 2.2K Ohm</li><li>1 r√©sistance 100K Ohm</li><li>1 r√©sistance 20K Ohm</li><li>27 r√©sistances 47 Ohm</li><li>6 r√©sistances 130 Ohm</li><li>1 r√©sistance 330 Ohm</li></ul></li><li>LEDs :<ul><li>15 LEDs rouges transparentes 5 mm</li><li>40 LEDs jaunes transparentes 5 mm</li><li>6 LEDs blanches transparentes 5 mm</li><li>1 LED rouge transparente 3 mm et 1 LED bleue transparente 3 mm</li></ul></li><li>Connecteurs :<ul><li>5 connecteurs JST XH 2.54 mm 4 broches (m√¢le et femelle)</li><li>2 connecteurs JST XH 2.54 mm 3 broches (m√¢le et femelle)</li></ul></li><li>Visserie :<ul><li>2 inserts filet√©s M3 en laiton</li><li>Vis M3 de 12 mm</li><li>Vis M3 de 20 mm</li><li>√âcrous auto-frein√©s M3</li></ul></li><li>Gaines thermor√©tractables de diff√©rentes tailles</li><li>Gourde de v√©lo</li>
      </ul>
    
  </div>

  <div class="section">
    <h2>üîß Outils</h2>
    
      <ul>
        <li>Imprimante 3D avec filament PLA noir</li><li>Fer √† souder</li><li>Pistolet √† colle chaude</li><li>Tournevis</li><li>Pinces</li><li>Scie</li><li>Perceuse</li><li>Multim√®tre</li><li>Colliers de serrage</li><li>Outils de base</li>
      </ul>
    
  </div>

  <div class="section steps">
    <h2> √âtapes</h2>
    
      <ol>
        <li><strong>1. Vue d'ensemble du projet</strong><p><em>Comprendre l'architecture globale du syst√®me</em></p><p><strong>√âtapes :</strong></p><ol><li>Le projet se compose de plusieurs parties : les feux avant et arri√®re avec clignotants, un √©cran sur le guidon, trois boutons de contr√¥le, un capteur magn√©tique de vitesse sur la roue.</li><li>Tous les composants sont connect√©s √† un circuit comprenant un Arduino, un module horloge temps r√©el, et quatre MOSFETs pour contr√¥ler les LEDs.</li><li>Le syst√®me est aliment√© par une batterie lithium-ion rechargeable via USB-C.</li><li>Toute l'√©lectronique est cach√©e dans une gourde de v√©lo pour √©viter le vol.</li></ol><p><strong>Remarques :</strong></p><ul><li>Le projet a √©t√© con√ßu par parties pour simplifier la complexit√© globale.</li></ul></li><li><strong>2. Feu arri√®re</strong><p><em>Construire le feu arri√®re avec clignotants</em></p><p><strong>Mat√©riaux et outils :</strong></p><ul><li>15 LEDs rouges 5mm</li><li>28 LEDs jaunes 5mm (14 par clignotant)</li><li>R√©sistances 47 Ohm</li><li>1 r√©sistance 330 Ohm</li><li>C√¢ble 4 conducteurs</li><li>Connecteur JST 4 broches</li><li>Pi√®ces imprim√©es en 3D</li><li>2 inserts filet√©s M3</li><li>2 vis M5</li><li>Colle chaude</li></ul><p><strong>√âtapes :</strong></p><ol><li>Concevoir et imprimer en 3D le bo√Ætier du feu et la plaque de montage des LEDs.</li><li>Ins√©rer deux inserts filet√©s M3 dans la plaque de montage √† l'aide d'un fer √† souder.</li><li>Monter les LEDs : rouges au centre, jaunes sur les c√¥t√©s.</li><li>Connecter les LEDs en s√©ries de deux avec une r√©sistance de 47 Ohm chacune, puis connecter toutes les s√©ries en parall√®le.</li><li>Les LEDs sont s√©par√©es en trois groupes : feu rouge central et clignotants gauche et droite.</li><li>Pour le feu rouge qui a 15 LEDs (nombre impair), connecter une r√©sistance de 330 Ohm √† la LED suppl√©mentaire.</li><li>Ins√©rer un c√¢ble 4 conducteurs dans le bo√Ætier et souder : un fil au +5V commun, trois fils aux masses des trois groupes de LEDs.</li><li>Tester toutes les LEDs avec une alimentation de laboratoire.</li><li>Prot√©ger les connexions avec de la colle chaude.</li><li>Ins√©rer deux vis M5 dans les trous hexagonaux √† l'arri√®re du bo√Ætier pour la fixation au v√©lo.</li><li>Fermer le feu avec deux vis M3 viss√©es dans les inserts filet√©s.</li><li>Connecter un connecteur JST 4 broches √† l'autre extr√©mit√© du c√¢ble.</li></ol><p><strong>Remarques :</strong></p><ul><li>Les LEDs doivent √™tre tr√®s lumineuses pour √™tre visibles en plein jour.</li><li>Suivre le sch√©ma de c√¢blage fourni (page 4 du document).</li></ul></li><li><strong>3. √âcran d'affichage</strong><p><em>Installer l'√©cran OLED sur le guidon</em></p><p><strong>Mat√©riaux et outils :</strong></p><ul><li>√âcran OLED 0.96" 128x64</li><li>C√¢ble 4 conducteurs</li><li>Connecteur JST 4 broches</li><li>Pi√®ces imprim√©es en 3D</li><li>2 √©crous auto-frein√©s M3</li><li>Colle</li></ul><p><strong>√âtapes :</strong></p><ol><li>Retirer les connecteurs √† broches soud√©s sur le PCB de l'√©cran pour le rendre plus compact.</li><li>Souder les quatre fils du c√¢ble aux quatre pads de l'√©cran : +5V, GND, SDA, SCL.</li><li>Concevoir et imprimer en 3D un support de guidon et un bo√Ætier pour l'√©cran.</li><li>Coller l'√©cran dans le bo√Ætier en l'alignant avec l'ouverture.</li><li>Faire passer le c√¢ble par le trou dans la base.</li><li>Assembler le bo√Ætier au support par embo√Ætement.</li><li>Ins√©rer deux √©crous auto-frein√©s M3 dans les ouvertures du support pour fixer l'√©cran au guidon.</li><li>Connecter un connecteur JST 4 broches √† l'autre extr√©mit√© du c√¢ble.</li></ol><p><strong>Remarques :</strong></p><ul><li>La communication i2c permet de connecter l'√©cran avec seulement 4 fils.</li></ul></li><li><strong>4. Boutons de contr√¥le</strong><p><em>Installer les trois boutons de commande sur le guidon</em></p><p><strong>Mat√©riaux et outils :</strong></p><ul><li>3 boutons tactiles 12x12 mm</li><li>C√¢ble 4 conducteurs</li><li>Connecteur JST 4 broches</li><li>Pi√®ces imprim√©es en 3D (gris pour les capuchons)</li><li>2 √©crous auto-frein√©s M3</li><li>Colle chaude</li><li>Ruban adh√©sif double face</li></ul><p><strong>√âtapes :</strong></p><ol><li>Imprimer en 3D un support similaire √† celui de l'√©cran avec un bo√Ætier.</li><li>Redresser les broches des boutons et les couper √† ras d'un c√¥t√©.</li><li>Placer les boutons dans le support imprim√© et les maintenir temporairement avec du ruban adh√©sif double face.</li><li>Souder un fil du c√¢ble √† la masse commune des trois boutons.</li><li>Souder les trois autres fils aux broches libres de chaque bouton (gauche, droite, SET).</li><li>V√©rifier les connexions puis fixer les boutons avec de la colle chaude.</li><li>Imprimer en 3D avec du PLA gris trois petits capuchons et les placer sur les boutons.</li><li>Assembler le bo√Ætier au support par embo√Ætement.</li><li>Ins√©rer deux √©crous auto-frein√©s M3 dans le support.</li><li>Connecter un connecteur JST 4 broches √† l'autre extr√©mit√© du c√¢ble.</li></ol><p><strong>Remarques :</strong></p><ul><li>Les trois boutons servent √† : activer les clignotants gauche/droite et naviguer dans les menus (SET).</li></ul></li><li><strong>5. Feux avant</strong><p><em>Construire les deux feux avant avec clignotants</em></p><p><strong>Mat√©riaux et outils :</strong></p><ul><li>6 LEDs blanches 5mm (3 par feu)</li><li>12 LEDs jaunes 5mm (6 par feu)</li><li>R√©sistances 47 Ohm</li><li>R√©sistances 130 Ohm</li><li>C√¢ble 4 conducteurs</li><li>Connecteur JST 4 broches</li><li>Pi√®ces imprim√©es en 3D</li><li>4 √©crous auto-frein√©s M3</li><li>Colle chaude</li></ul><p><strong>√âtapes :</strong></p><ol><li>Imprimer en 3D deux bo√Ætiers avec supports de guidon et deux plaques de montage de LEDs.</li><li>Pour chaque feu, ins√©rer les LEDs : une colonne de blanches et deux colonnes de jaunes.</li><li>Connecter les LEDs jaunes en s√©ries de deux avec une r√©sistance de 47 Ohm chacune, puis en parall√®le.</li><li>Pour les LEDs blanches, mettre une r√©sistance de 130 Ohm sur chacune puis les connecter en parall√®le.</li><li>Cr√©er deux circuits identiques avec les couleurs de LEDs en miroir (blanches √† l'int√©rieur, jaunes √† l'ext√©rieur).</li><li>Ins√©rer le c√¢ble principal dans le bo√Ætier qui a deux trous pour c√¢bles.</li><li>Connecter les deux bo√Ætiers entre eux avec un court morceau de c√¢ble.</li><li>Souder les connexions : +5V commun aux deux feux, masse des blanches commune, masse clignotant droit au premier feu, masse clignotant gauche au second feu.</li><li>Tester les LEDs puis prot√©ger les connexions avec de la colle chaude.</li><li>Assembler les plaques de LEDs dans leurs bo√Ætiers par embo√Ætement.</li><li>Ins√©rer deux √©crous auto-frein√©s M3 dans chaque support.</li><li>Connecter un connecteur JST 4 broches √† l'autre extr√©mit√© du c√¢ble.</li></ol><p><strong>Remarques :</strong></p><ul><li>Un bo√Ætier a deux trous pour c√¢bles, l'autre un seul.</li><li>Toutes les LEDs partagent un +5V commun, les masses servent au contr√¥le.</li></ul></li><li><strong>6. Capteur de vitesse</strong><p><em>Installer le capteur magn√©tique pour mesurer la vitesse</em></p><p><strong>Mat√©riaux et outils :</strong></p><ul><li>Capteur √† effet Hall US5881</li><li>C√¢ble 4 conducteurs (3 fils utilis√©s)</li><li>Connecteur JST 3 broches</li><li>Gaines thermor√©tractables</li><li>Support imprim√© en 3D</li><li>Colliers de serrage</li><li>Aimant</li></ul><p><strong>√âtapes :</strong></p><ol><li>Souder trois fils du c√¢ble aux trois broches du capteur : +5V, GND, signal de sortie.</li><li>Prot√©ger le capteur et les connexions avec des gaines thermor√©tractables.</li><li>Connecter un connecteur JST 3 broches √† l'autre extr√©mit√© du c√¢ble.</li><li>Imprimer en 3D un petit support pour le capteur.</li><li>Ins√©rer le c√¢ble du capteur dans le trou du support.</li><li>Fixer le capteur avec deux colliers de serrage.</li><li>Fixer l'aimant sur le rayon de la roue.</li><li>Monter le support avec le capteur pr√®s de la roue arri√®re avec des colliers de serrage.</li><li>Positionner le capteur √† environ 1 cm de l'aimant pour qu'il soit d√©clench√© √† chaque tour de roue.</li></ol><p><strong>Remarques :</strong></p><ul><li>Le capteur d√©tecte l'aimant √† chaque tour de roue.</li><li>L'Arduino calcule la vitesse en comptant les d√©clenchements toutes les 5 secondes et en connaissant la circonf√©rence de la roue.</li><li>Tout aimant suffisamment fort peut √™tre utilis√©.</li></ul></li><li><strong>7. Carte de contr√¥le - Arduino et RTC</strong><p><em>Assembler la carte principale avec l'Arduino et l'horloge temps r√©el</em></p><p><strong>Mat√©riaux et outils :</strong></p><ul><li>Plaque √† trous (perfboard) 55x90 mm</li><li>Arduino Nano</li><li>Connecteurs √† broches</li><li>Module DS3231 RTC</li><li>Fil</li><li>Fer √† souder</li></ul><p><strong>√âtapes :</strong></p><ol><li>Pr√©parer une plaque √† trous d'environ 55x90 mm.</li><li>Souder l'Arduino Nano sur la plaque en utilisant des connecteurs √† broches.</li><li>Modifier le module RTC DS3231 pour l'alimenter depuis la batterie principale au lieu d'une pile bouton :<ul><li>Retirer la petite r√©sistance au-dessus de la broche SCL</li><li>Dessouder le support de pile bouton</li><li>Souder un fil au pad qui √©tait connect√© au + de la pile</li></ul></li><li>Souder le module RTC sur la plaque.</li><li>Ce fil sera connect√© au + de la batterie 18650 pour maintenir l'heure m√™me quand le syst√®me est √©teint.</li></ol><p><strong>Remarques :</strong></p><ul><li>La modification du RTC permet d'√©viter d'avoir une pile bouton suppl√©mentaire √† changer.</li><li>V√©rifier avec un multim√®tre le pad correct pour le + de la pile.</li></ul></li><li><strong>8. Carte de contr√¥le - MOSFETs, I2C et diviseur de tension</strong><p><em>Compl√©ter le c√¢blage de la carte de contr√¥le</em></p><p><strong>Mat√©riaux et outils :</strong></p><ul><li>4 MOSFETs IRFZ44N</li><li>R√©sistances diverses</li><li>Connecteurs JST</li><li>Fil de cuivre et fil sous gaine silicone</li><li>Fer √† souder</li></ul><p><strong>√âtapes :</strong></p><ol><li>Souder deux connecteurs JST 4 broches pour l'√©cran et les boutons.</li><li>Souder deux connecteurs JST pour les capteurs magn√©tiques (roue et frein optionnel).</li><li>Installer des r√©sistances pull-up de 10K Ohm entre la broche de signal et +5V pour les deux capteurs magn√©tiques.</li><li>Installer quatre MOSFETs IRFZ44N : deux pour les clignotants gauche/droite, deux pour les feux avant/arri√®re.</li><li>Pour chaque MOSFET, placer une r√©sistance de 10K Ohm entre la grille et GND.</li><li>Connecter la grille de chaque MOSFET √† une broche Arduino avec une r√©sistance de 220 Ohm.</li><li>Souder deux connecteurs JST 4 broches pour les feux avant et arri√®re, en amenant le +5V et les masses des drains des MOSFETs.</li><li>Connecter l'√©cran et le RTC via i2c sur les broches A4 et A5 de l'Arduino.</li><li>Placer des r√©sistances pull-up de 2.2K Ohm sur les deux lignes i2c entre chaque ligne et +5V.</li><li>Cr√©er un diviseur de tension avec une r√©sistance de 100K Ohm et une de 20K Ohm pour mesurer la tension de batterie.</li><li>Connecter ce diviseur √† une broche analogique de l'Arduino.</li><li>R√©aliser toutes les connexions sous la plaque en suivant le sch√©ma de c√¢blage fourni.</li></ol><p><strong>Remarques :</strong></p><ul><li>Les connexions prennent du temps mais sont r√©p√©titives.</li><li>Suivre attentivement le sch√©ma de c√¢blage.</li><li>Vous pouvez concevoir votre propre PCB si vous pr√©f√©rez.</li></ul></li><li><strong>9. Code Arduino</strong><p><em>Programmer l'Arduino avec le code de contr√¥le</em></p><p><strong>Mat√©riaux et outils :</strong></p><ul><li>Arduino IDE</li><li>Biblioth√®que Adafruit_SSD1306</li><li>Biblioth√®que RTClib</li></ul><p><strong>√âtapes :</strong></p><ol><li>D√©brancher l'Arduino de la carte de contr√¥le.</li><li>Installer les biblioth√®ques Adafruit_SSD1306 et RTClib dans l'Arduino IDE.</li><li>T√©l√©charger le code Arduino depuis les fichiers joints.</li><li>Compiler et t√©l√©verser le code dans l'Arduino.</li><li>Reconnecter l'Arduino √† la carte de contr√¥le.</li></ol><p><strong>Remarques :</strong></p><ul><li>Le code g√®re : la mesure de vitesse, la lecture de l'heure depuis le RTC, le contr√¥le des feux et clignotants, l'affichage de l'interface.</li><li>Tous les param√®tres peuvent √™tre configur√©s depuis l'interface de l'√©cran.</li><li>Les r√©glages sont sauvegard√©s dans l'EEPROM.</li></ul></li><li><strong>10. Circuit de batterie</strong><p><em>Assembler le syst√®me d'alimentation et de charge</em></p><p><strong>Mat√©riaux et outils :</strong></p><ul><li>Batterie 18650</li><li>Support de batterie imprim√© en 3D</li><li>Module TP4056</li><li>Module boost 5V</li><li>Interrupteur √† bascule</li><li>2 LEDs 3mm (rouge et bleue)</li><li>Contacts ressort et plat</li><li>Colle</li></ul><p><strong>√âtapes :</strong></p><ol><li>Imprimer en 3D un support de batterie simple.</li><li>R√©cup√©rer un contact ressort et un contact plat depuis un ancien support de piles.</li><li>Souder deux fils aux deux contacts.</li><li>Coller les contacts aux deux extr√©mit√©s du support imprim√©.</li><li>Connecter les fils du support aux pads B+ et B- du module TP4056.</li><li>Dessouder les LEDs d'indication du module TP4056.</li><li>Souder deux LEDs 3mm (rouge et bleue) avec de courts fils aux pads des LEDs pour indiquer l'√©tat de charge.</li><li>Connecter un module boost aux bornes de sortie du circuit de charge pour obtenir 5V.</li><li>Si le module boost a un port USB, le dessouder et le remplacer par deux fils connect√©s aux broches de sortie + et -.</li><li>Installer un interrupteur √† bascule sur le fil positif entre le module de charge et le module boost.</li></ol><p><strong>Remarques :</strong></p><ul><li>Le module boost doit avoir une sortie d'au moins 500mA.</li><li>IMPORTANT : Le n√©gatif de l'entr√©e du module boost doit √™tre directement connect√© au n√©gatif de sortie.</li><li>Les LEDs seront plac√©es pr√®s du port USB.</li></ul></li><li><strong>11. Cacher l'√©lectronique dans le v√©lo</strong><p><em>Installer tout le syst√®me dans une gourde pour √©viter le vol</em></p><p><strong>Mat√©riaux et outils :</strong></p><ul><li>Gourde de v√©lo</li><li>Scie</li><li>Support imprim√© en 3D</li><li>Vis M3x12mm</li><li>Vis M3x20mm</li><li>√âcrous auto-frein√©s M3</li><li>Entretoises imprim√©es en 3D</li><li>Colle chaude</li><li>Perceuse</li></ul><p><strong>√âtapes :</strong></p><ol><li>D√©couper le fond de la gourde avec une scie.</li><li>Faire une ouverture sur le c√¥t√© pour faire passer les c√¢bles.</li><li>Imprimer en 3D un support pour monter la gourde sur le v√©lo.</li><li>Imprimer en 3D une plateforme pour monter le support de batterie, le circuit de charge, l'interrupteur et la carte Arduino.</li><li>Fixer le module de charge TP4056 sur le c√¥t√© pr√©vu pour le port de charge avec de la colle chaude.</li><li>Monter le support de batterie avec quatre vis M3x12mm et √©crous auto-frein√©s.</li><li>Monter la carte Arduino de l'autre c√¥t√© avec des vis M3x12mm, des √©crous auto-frein√©s et des entretoises imprim√©es en 3D.</li><li>Percer les trous de montage pour la carte √† l'emplacement qui correspond √† votre carte.</li><li>Connecter l'alimentation +5V et GND du module boost √† la carte.</li><li>Connecter un fil directement depuis le + de la batterie au RTC.</li><li>Connecter un fil depuis l'entr√©e du module boost au diviseur de tension sur la carte pour mesurer la tension de batterie.</li></ol><p><strong>Remarques :</strong></p><ul><li>La gourde prot√®ge l'√©lectronique de la pluie.</li><li>Personne ne peut deviner ce qui se trouve √† l'int√©rieur.</li><li>Les trous de montage de la carte ne sont pas inclus dans le fichier 3D pour permettre l'adaptation.</li></ul></li><li><strong>12. Installation du syst√®me sur le v√©lo</strong><p><em>Monter et connecter tous les composants sur le v√©lo</em></p><p><strong>Mat√©riaux et outils :</strong></p><ul><li>Vis M3x20mm</li><li>Vis M5</li><li>√âcrous auto-frein√©s M3</li><li>√âcrous auto-frein√©s M5</li><li>Colliers de serrage</li><li>Perceuse</li></ul><p><strong>√âtapes :</strong></p><ol><li>Installer le feu arri√®re sur le v√©lo en utilisant les deux vis M5 avec des √©crous auto-frein√©s.</li><li>Fixer les boutons et l'√©cran sur le guidon avec leurs supports imprim√©s et des vis M3x20mm.</li><li>Monter les deux feux avant pr√®s du centre du guidon de la m√™me mani√®re.</li><li>Ranger les c√¢bles avec des colliers de serrage en les amenant vers l'emplacement de la gourde.</li><li>Monter le capteur magn√©tique de vitesse avec son support imprim√© pr√®s de la roue arri√®re.</li><li>Positionner le capteur √† environ 1cm de l'aimant fix√© sur la roue.</li><li>Monter le support de gourde sur les filetages du v√©lo en faisant passer les c√¢bles par le trou du bas.</li><li>Connecter tous les connecteurs JST des diff√©rents composants √† la carte de contr√¥le.</li><li>Fixer la plateforme avec l'√©lectronique et la batterie dans le support de gourde avec deux vis M3 et √©crous auto-frein√©s.</li><li>Glisser la gourde sur la plateforme avec l'√©lectronique.</li><li>Percer deux trous dans la gourde et la fixer avec des vis.</li></ol><p><strong>Remarques :</strong></p><ul><li>La gourde ressemble presque √† une gourde normale, sauf pour l'interrupteur.</li><li>Tous les c√¢bles doivent √™tre bien rang√©s et s√©curis√©s.</li></ul></li><li><strong>13. Configuration initiale</strong><p><em>Param√©trer le syst√®me lors de la premi√®re utilisation</em></p><p><strong>√âtapes :</strong></p><ol><li>Allumer le syst√®me en maintenant le bouton SET enfonc√© pour entrer dans les param√®tres.</li><li>Utiliser les boutons gauche et droite pour naviguer dans les menus.</li><li>R√©glage de l'heure :<ul><li>S√©lectionner 'Time' et appuyer sur SET</li><li>Appuyer sur SET pour s√©lectionner les heures</li><li>Utiliser gauche/droite pour ajuster</li><li>Appuyer sur SET pour s√©lectionner les minutes</li><li>Ajuster avec gauche/droite</li><li>Appuyer sur SET puis gauche ou droite pour valider</li></ul></li><li>R√©glage de la roue :<ul><li>S√©lectionner 'Wheel' et appuyer sur SET</li><li>Entrer la circonf√©rence de la roue en m√®tres (pas le diam√®tre)</li><li>Ajuster avec les boutons gauche/droite par incr√©ments de 1cm</li><li>Valider en sortant du menu</li></ul></li><li>V√©rification des capteurs :<ul><li>S√©lectionner 'Sensors'</li><li>V√©rifier que le capteur de roue d√©tecte l'aimant (ON/OFF)</li><li>Ajuster l'alignement si n√©cessaire</li></ul></li><li>Si votre aimant contient plusieurs aimants et que le capteur se d√©clenche plusieurs fois par passage, diviser la circonf√©rence de roue par le nombre d'aimants.</li><li>S√©lectionner 'Exit' pour quitter les param√®tres.</li></ol><p><strong>Remarques :</strong></p><ul><li>L'heure entr√©e est consid√©r√©e comme l'heure actuelle au moment de sortir des param√®tres.</li><li>L'heure est maintenue par le module RTC m√™me quand le syst√®me est √©teint.</li><li>La circonf√©rence de roue est sauvegard√©e dans l'EEPROM.</li><li>Tous les param√®tres sont conserv√©s apr√®s extinction.</li></ul></li><li><strong>14. Utilisation du syst√®me</strong><p><em>Utiliser le syst√®me au quotidien</em></p><p><strong>√âtapes :</strong></p><ol><li>Page principale de l'√©cran :<ul><li>Vitesse actuelle en km/h</li><li>Heure</li><li>Distance totale parcourue en km</li><li>Indicateurs de clignotants actifs</li><li>Indicateur de niveau de batterie</li></ul></li><li>Appuyer sur SET pour acc√©der √† la page d'informations d√©taill√©es :<ul><li>Temps total d'utilisation</li><li>Temps actif (en mouvement)</li><li>Vitesse maximale atteinte</li><li>Vitesse moyenne</li></ul></li><li>Appuyer √† nouveau sur SET pour acc√©der √† la page de contr√¥le des feux :<ul><li>Utiliser le bouton gauche pour s√©lectionner : All (tous), Front (avant), Back (arri√®re)</li><li>Utiliser le bouton droit pour allumer/√©teindre les feux s√©lectionn√©s</li><li>L'√©cran retourne automatiquement √† la page principale apr√®s 10 secondes</li></ul></li><li>Activation des clignotants (uniquement depuis la page principale) :<ul><li>Appuyer sur le bouton gauche ou droit pour activer le clignotant correspondant</li><li>L'indicateur appara√Æt sur l'√©cran</li><li>Appuyer sur n'importe quel bouton pour d√©sactiver les clignotants</li><li>Les clignotants s'√©teignent automatiquement apr√®s 12 clignotements</li></ul></li><li>Charge de la batterie :<ul><li>Brancher un c√¢ble USB-C au port de charge</li><li>La LED rouge indique la charge en cours</li><li>La LED bleue indique la charge termin√©e</li><li>La batterie dure plusieurs heures d'utilisation</li></ul></li></ol><p><strong>Remarques :</strong></p><ul><li>Les feux sont tr√®s lumineux et visibles de jour comme de nuit.</li><li>L'√©cran affiche des donn√©es tr√®s int√©ressantes sur vos trajets.</li><li>Les clignotants am√©liorent grandement la s√©curit√©.</li></ul></li><li><strong>15. Projet termin√© !</strong><p><strong>√âtapes :</strong></p><ol><li>Le projet est maintenant termin√© et fonctionnel.</li><li>Le syst√®me a √©t√© utilis√© avec succ√®s pendant plusieurs semaines.</li><li>Les donn√©es affich√©es sur l'√©cran sont tr√®s int√©ressantes.</li><li>Les feux sont essentiels pour rouler en s√©curit√© la nuit.</li></ol><p><strong>Remarques :</strong></p><ul><li>Une vid√©o compl√®te avec plus de d√©tails est disponible sur la cha√Æne YouTube de Giovanni Aggiustatutto (avec sous-titres anglais).</li><li>Ce projet r√©duit significativement les risques d'accidents √† v√©lo.</li></ul></li>
      </ol>
    
  </div>

  

  <!-- Lightbox overlay for viewing images -->
  <div id="lightbox" class="lightbox-overlay" aria-hidden="true">
    <button id="lb-close" class="lightbox-close" aria-label="Fermer">√ó</button>
    <!-- Prev/Next visible controls -->
    <button id="lb-prev" class="lightbox-control lightbox-prev" aria-label="Image pr√©c√©dente">‚Äπ</button>
    <button id="lb-next" class="lightbox-control lightbox-next" aria-label="Image suivante">‚Ä∫</button>
    <div class="lightbox-content">
      <img id="lb-img" src="" alt="">
      <div id="lb-caption" class="lightbox-caption"></div>
    </div>
  </div>

  <script>
    // JS lightbox: delegate clicks from step-images figures
    document.addEventListener('click', function(ev){
      const fig = ev.target.closest('.step-images figure');
      if(!fig) return;
      const container = fig.closest('.step-images');
      if(!container) return;
      const figures = Array.from(container.querySelectorAll('figure'));
      const idx = figures.indexOf(fig);
      if(idx < 0) return;

      const overlay = document.getElementById('lightbox');
      const imgEl = document.getElementById('lb-img');
      const captionEl = document.getElementById('lb-caption');
      const btnPrev = document.getElementById('lb-prev');
      const btnNext = document.getElementById('lb-next');

      let current = idx;
      function show(i){
        const f = figures[i];
        const im = f.querySelector('img');
        const cap = f.querySelector('figcaption');
        if(im){ imgEl.src = im.src; imgEl.alt = im.alt || ''; }
        captionEl.textContent = cap ? cap.textContent : '';
        overlay.classList.add('active');
        overlay.setAttribute('aria-hidden','false');
      }
      function hide(){ overlay.classList.remove('active'); overlay.setAttribute('aria-hidden','true'); }

      show(current);

      // close handlers
      document.getElementById('lb-close').onclick = hide;
      overlay.onclick = function(e){ if(e.target === overlay) hide(); };
      // prev/next click handlers
      if(btnPrev){ btnPrev.onclick = function(e){ e.stopPropagation(); current = Math.max(current-1, 0); show(current); }; }
      if(btnNext){ btnNext.onclick = function(e){ e.stopPropagation(); current = Math.min(current+1, figures.length-1); show(current); }; }
      document.onkeydown = function(e){
        if(e.key === 'Escape') hide();
        if(e.key === 'ArrowRight') { current = Math.min(current+1, figures.length-1); show(current); }
        if(e.key === 'ArrowLeft') { current = Math.max(current-1, 0); show(current); }
      };
    });
  </script>

  <style>
    /* lightbox visible controls styling */
    .lightbox-control {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.35);
      color: #fff;
      border: none;
      width: 44px;
      height: 70px;
      font-size: 2rem;
      line-height: 1;
      border-radius: 6px;
      cursor: pointer;
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
    }
    .lightbox-prev { left: 12px; }
    .lightbox-next { right: 12px; }
    .lightbox-control:hover { background: rgba(0,0,0,0.6); }
    @media (max-width: 600px){ .lightbox-control { width: 36px; height: 56px; font-size: 1.6rem; } }
  </style>

  
  <footer>
    <strong>üí° Remarques :</strong> <strong>Vid√©o du projet</strong><br>Vid√©o compl√®te montrant la construction et le fonctionnement du syst√®me<br><strong>Fichiers √† t√©l√©charger</strong><br>Tous les fichiers STL pour l'impression 3D, le code Arduino et les sch√©mas √©lectriques sont disponibles dans la section 'Attachments' du tutoriel original
  </footer>
  

</body>
</html>